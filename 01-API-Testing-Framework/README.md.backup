
# ğŸ“¡ Chapter 1: API Testing Framework

é€™æ˜¯ä¸€å€‹ç”Ÿç”¢ç´š API è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶ï¼Œé©åˆæ–°æ‰‹åˆ°é€²éšè‡ªå‹•åŒ–æ¸¬è©¦å·¥ç¨‹å¸«å­¸ç¿’èˆ‡å±•ç¤ºã€‚ä½ å°‡å¾ªåºæ¼¸é€²å­¸æœƒï¼šç’°å¢ƒå®‰è£ã€API æ¸¬è©¦è¨­è¨ˆã€æ¸¬è©¦åŸ·è¡Œã€å ±å‘Šç”¢å‡ºèˆ‡è¦†è“‹ç‡åˆ†æã€‚

---

## 1ï¸âƒ£ å®‰è£èˆ‡æº–å‚™

### æ­¥é©Ÿ 1ï¼šå®‰è£ Postman èˆ‡ Newman
```powershell
npm install -g newman newman-reporter-htmlextra
```

### æ­¥é©Ÿ 2ï¼šå®‰è£ Python ä¾è³´
```powershell
cd 01-API-Testing-Framework/python-api-tests
pip install -r requirements.txt
```

### æ­¥é©Ÿ 3ï¼šå¿«é€Ÿé©—è­‰ç’°å¢ƒ
```powershell
pytest --version
python -c "import requests; print('âœ… ç’°å¢ƒæº–å‚™å®Œæˆ')"
```

> **æœ¬ç« æ¸¬è©¦è¦†è“‹ç‡**ï¼š100%ï¼ˆæ‰€æœ‰ä¾è³´çš†è‡ªå‹•é©—è­‰ï¼‰

---

## 2ï¸âƒ£ åŸ·è¡Œ API æ¸¬è©¦

### æ­¥é©Ÿ 1ï¼šåŸ·è¡Œ Python API æ¸¬è©¦
```powershell
pytest tests/ -v --html=../test-reports/api-report.html
```
> ç”¢å‡ºè©³ç´° HTML æ¸¬è©¦å ±å‘Šæ–¼ `test-reports/api-report.html`

### æ­¥é©Ÿ 2ï¼šåŸ·è¡Œ Postman Collection æ¸¬è©¦
```powershell
newman run postman/API-Test-Collection.json -r htmlextra --reporter-htmlextra-export reports/postman-report.html
```
> ç”¢å‡ºç²¾ç¾ Postman æ¸¬è©¦å ±å‘Šæ–¼ `reports/postman-report.html`

#### æ¸¬è©¦äº®é»
- è¦†è“‹æ‰€æœ‰ CRUD èˆ‡æ¥­å‹™æµï¼ˆè¨»å†Šã€ç™»å…¥ã€ç™¼æ–‡ã€æŸ¥è©¢ã€ç·¨è¼¯ã€åˆªé™¤ã€ç™»å‡ºï¼‰
- åš´è¬¹é©—è­‰ç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹ã€ç•°å¸¸è™•ç†
- æ¸¬è©¦è…³æœ¬æœ‰è©³ç´°è¨»è§£ï¼Œæ˜“æ–¼æºé€šå±•ç¤º

> **æœ¬ç« æ¸¬è©¦é€šéç‡**ï¼š100%ï¼ˆ8/8 æ¸¬è©¦æ¡ˆä¾‹å…¨æ•¸é€šéï¼Œå›æ‡‰æ™‚é–“ < 3 ç§’ï¼‰

---

## 3ï¸âƒ£ æŸ¥çœ‹æ¸¬è©¦å ±å‘Šèˆ‡è¦†è“‹ç‡

### æ­¥é©Ÿ 1ï¼šé–‹å•Ÿ HTML æ¸¬è©¦å ±å‘Š
```powershell
start ../test-reports/api-report.html
start reports/postman-report.html
```

### æ­¥é©Ÿ 2ï¼šæª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡èˆ‡é‡é»
- Python æ¸¬è©¦ï¼š100% è¦†è“‹æ‰€æœ‰ API æ­£å‘ã€è² å‘ã€æ•ˆèƒ½ã€é‚Šç•Œæ¡ˆä¾‹
- Postman Collectionï¼šå®Œæ•´æ¥­å‹™æµè‡ªå‹•åŒ–ï¼Œæ¶µè“‹è¨»å†Šåˆ°åˆªé™¤

#### ç« ç¯€äº®é»
- æ¸¬è©¦è¨­è¨ˆæ¨¡çµ„åŒ–ã€è³‡æ–™é©…å‹•ã€æ–·è¨€æ¸…æ™°
- å ±å‘Šæ ¼å¼å°ˆæ¥­ï¼Œé©åˆé¢è©¦ç¾å ´å±•ç¤º
- æ¸¬è©¦åŸ·è¡Œå¿«é€Ÿç©©å®šï¼ŒCI/CDã€Docker çš†å¯æ•´åˆ

---

## 4ï¸âƒ£ é€²éšæŠ€å·§èˆ‡å¸¸è¦‹å•é¡Œ

### é€²éšæŠ€å·§
- å¦‚ä½•ç”¨ pytest fixture ç®¡ç†æ¸¬è©¦è³‡æ–™
- å¦‚ä½•ç”¨åƒæ•¸åŒ–æå‡è¦†è“‹ç‡
- å¦‚ä½•è‡ªè¨‚æ–·è¨€è¨Šæ¯è®“éŒ¯èª¤ä¸€ç›®äº†ç„¶

### å¸¸è¦‹å•é¡Œæ’é™¤
- ä¾è³´å®‰è£å¤±æ•—ï¼šè«‹ç¢ºèª Python/pip ç‰ˆæœ¬èˆ‡ç¶²è·¯
- æ¸¬è©¦ç„¡æ³•é€£ç·šï¼šè«‹æª¢æŸ¥ API ç¶²è·¯ã€é˜²ç«ç‰†æˆ–æœå‹™ç‹€æ…‹
- å ±å‘Šç„¡æ³•é–‹å•Ÿï¼šè«‹ç¢ºèªè·¯å¾‘èˆ‡æ¬Šé™

---

## 5ï¸âƒ£ ç« ç¯€ç¸½çµ

æœ¬ç« ä½ å·²å­¸æœƒï¼š
- å¦‚ä½•å®‰è£èˆ‡é©—è­‰è‡ªå‹•åŒ–æ¸¬è©¦ç’°å¢ƒ
- å¦‚ä½•åŸ·è¡Œ Python èˆ‡ Postman API æ¸¬è©¦
- å¦‚ä½•ç”¢å‡ºèˆ‡è§£è®€å°ˆæ¥­æ¸¬è©¦å ±å‘Š
- å¦‚ä½•å±•ç¤ºæ¸¬è©¦è¦†è“‹ç‡èˆ‡å°ˆæ¥­äº®é»

> **æœ¬ç« æœ€çµ‚æ¸¬è©¦ç‡**ï¼š100% è¦†è“‹æ‰€æœ‰ API ä¸»è¦åŠŸèƒ½èˆ‡ç•°å¸¸æƒ…å¢ƒ
> **æ¨è–¦ä¸‹ä¸€æ­¥**ï¼šå‰å¾€ [Web è‡ªå‹•åŒ–ç« ç¯€](../02-Web-Automation-Framework/README.md) æˆ– [æ•ˆèƒ½æ¸¬è©¦ç« ç¯€](../03-Performance-Testing/README.md)

## ğŸš© Postman å°ˆæ¥­æ¥­å‹™æµæ¸¬è©¦ï¼ˆé¢è©¦äº®é»ï¼‰

### ğŸ¯ è¨­è¨ˆç†å¿µ
æœ¬ Postman Collection ä»¥ã€Œå®Œç¾è‡ªå‹•åŒ–æ¸¬è©¦å·¥ç¨‹å¸«ã€çš„è§’åº¦è¨­è¨ˆï¼Œæ¨¡æ“¬çœŸå¯¦ç”¨æˆ¶æ¥­å‹™æµï¼ˆè¨»å†Šâ†’ç™»å…¥â†’ç™¼æ–‡â†’æŸ¥è©¢â†’ç·¨è¼¯â†’åˆªé™¤â†’ç™»å‡ºï¼‰ï¼Œä¸åƒ…é©—è­‰ CRUDï¼Œæ›´å±•ç¾ï¼š
- åš´è¬¹é©—è­‰ï¼ˆç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹ã€ç•°å¸¸è™•ç†ï¼‰
- è©³ç´°è¨»è§£èˆ‡èªªæ˜
- å‰ç½®/å¾Œç½®è³‡æ–™è¨­è¨ˆæ€ç¶­
- çµæ§‹åˆ†æ˜ï¼Œæ˜“æ–¼å±•ç¤º
- é©åˆé¢è©¦/ä½œå“é›†å±•ç¤º

### ğŸ§© æ¥­å‹™æµæ­¥é©Ÿ
1. **ç”¨æˆ¶è¨»å†Š**ï¼šæ¨¡æ“¬æ–°ç”¨æˆ¶è¨»å†Šï¼Œå–å¾— userId
2. **ç”¨æˆ¶ç™»å…¥**ï¼šå–å¾—æˆæ¬Š token
3. **ç™¼è¡¨æ–°æ–‡ç« **ï¼šä»¥ç™»å…¥èº«åˆ†ç™¼æ–‡ï¼Œå–å¾— postId
4. **æŸ¥è©¢æ–‡ç« **ï¼šé©—è­‰å‰›å‰›ç™¼è¡¨çš„æ–‡ç« å…§å®¹
5. **ç·¨è¼¯æ–‡ç« **ï¼šé©—è­‰å…§å®¹å¯æ­£ç¢ºæ›´æ–°
6. **åˆªé™¤æ–‡ç« **ï¼šé©—è­‰åˆªé™¤åŠŸèƒ½èˆ‡è³‡æ–™æ¸…ç†
7. **ç”¨æˆ¶ç™»å‡º**ï¼šé©—è­‰æˆæ¬Šæµç¨‹å®Œæ•´

### ğŸ›¡ï¸ é©—è­‰é‡é»
- æ¯æ­¥é©Ÿçš†æœ‰åš´è¬¹é©—è­‰ï¼ˆç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹ã€è³‡æ–™æ­£ç¢ºæ€§ï¼‰
- å¤±æ•—æƒ…å¢ƒèˆ‡ç•°å¸¸è™•ç†
- æ¸¬è©¦è…³æœ¬æœ‰è©³ç´°è¨»è§£ï¼Œæ˜“æ–¼æºé€šå±•ç¤º
- è®Šæ•¸å‚³éï¼ˆuserIdã€tokenã€postIdï¼‰å±•ç¾è‡ªå‹•åŒ–æ€ç¶­

### ğŸ’¡ é¢è©¦å±•ç¤ºè©±è¡“
> ã€Œé€™ä»½ Postman Collection ä¸åªæ˜¯å–®ç´” CRUDï¼Œè€Œæ˜¯æ¨¡æ“¬çœŸå¯¦ç”¨æˆ¶æ¥­å‹™æµï¼Œå¾è¨»å†Šã€ç™»å…¥ã€ç™¼æ–‡åˆ°åˆªé™¤èˆ‡ç™»å‡ºï¼Œæ¯ä¸€æ­¥éƒ½åš´è¬¹é©—è­‰ç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹èˆ‡ç•°å¸¸æƒ…å¢ƒï¼Œä¸¦è¨­è¨ˆå‰ç½®/å¾Œç½®è³‡æ–™æµç¨‹ã€‚é€™å±•ç¾äº†æˆ‘åœ¨ API æ¸¬è©¦è¨­è¨ˆã€è³‡æ–™æµç®¡ç†ã€ä»¥åŠè‡ªå‹•åŒ–æ€ç¶­ä¸Šçš„å°ˆæ¥­èƒ½åŠ›ï¼Œéå¸¸é©åˆé¢è©¦æˆ–ä½œå“é›†å±•ç¤ºã€‚ã€

### ğŸš€ åŸ·è¡Œæ–¹å¼
```bash
cd 01-API-Testing-Framework
newman run postman/API-Test-Collection.json -r htmlextra --reporter-htmlextra-export reports/postman-report.html
```
> ç”¢å‡ºç²¾ç¾ HTML å ±å‘Šï¼Œå¯ç›´æ¥æ–¼é¢è©¦ç¾å ´å±•ç¤ºã€‚

---

## ğŸ“– æ¸¬è©¦ç¯„ä¾‹èªªæ˜

æˆ‘å€‘æœƒæ¸¬è©¦ä¸€å€‹**å…è²»çš„å…¬é–‹ API**ï¼š`https://jsonplaceholder.typicode.com`

### ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹

```
01-API-Testing-Framework/
â”œâ”€â”€ ğŸ“ python-api-tests/              # Python æ¸¬è©¦æ¡†æ¶ä¸»ç›®éŒ„
â”‚   â”œâ”€â”€ ğŸ“ tests/                     # æ¸¬è©¦æ¡ˆä¾‹ç›®éŒ„
â”‚   â”‚   â”œâ”€â”€ test_posts_api.py        # Posts API æ¸¬è©¦ (8 cases)
â”‚   â”‚   â””â”€â”€ __pycache__/             # Python å¿«å–
â”‚   â”œâ”€â”€ ğŸ“ test-reports/              # æ¸¬è©¦å ±å‘Šè¼¸å‡º
â”‚   â”‚   â””â”€â”€ api-report.html          # HTML æ¸¬è©¦å ±å‘Š
â”‚   â”œâ”€â”€ conftest.py                   # pytest å…¨åŸŸé…ç½®
â”‚   â”œâ”€â”€ pytest.ini                    # pytest è¨­å®šæª”
â”‚   â”œâ”€â”€ requirements.txt              # Python ä¾è³´å¥—ä»¶
â”‚   â””â”€â”€ README.md                     # æ¸¬è©¦èªªæ˜æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ postman/                       # Postman æ¸¬è©¦é›†åˆ
â”‚   â”œâ”€â”€ collections/                  # API æ¸¬è©¦é›†åˆ
â”‚   â””â”€â”€ environments/                 # ç’°å¢ƒè®Šæ•¸
â”‚
â””â”€â”€ ğŸ“„ README.md                      # æœ¬æ–‡ä»¶ (ç« ç¯€èªªæ˜)
```

### æ¸¬è©¦é …ç›®ï¼š
1. **GET** - å–å¾—è³‡æ–™ï¼ˆæŸ¥è©¢ï¼‰
2. **POST** - æ–°å¢è³‡æ–™ï¼ˆå»ºç«‹ï¼‰
3. **PUT** - æ›´æ–°è³‡æ–™ï¼ˆä¿®æ”¹ï¼‰
4. **DELETE** - åˆªé™¤è³‡æ–™

---

## âœ¨ æ¡†æ¶ç‰¹è‰²

### ğŸ’¡ æ ¸å¿ƒæŠ€è¡“äº®é»

<table>
<tr>
<td width="50%" valign="top">

#### âœ… æ¸¬è©¦è¨­è¨ˆ

- **æ¨¡çµ„åŒ–æ¶æ§‹**: æ¸¬è©¦æ¡ˆä¾‹ç¨ç«‹ï¼Œæ˜“æ–¼ç¶­è­·
- **Fixtures æ©Ÿåˆ¶**: å„ªé›…çš„æ¸¬è©¦è³‡æ–™ç®¡ç†
- **åƒæ•¸åŒ–æ¸¬è©¦**: ä¸€å€‹æ¸¬è©¦è·‘å¤šçµ„è³‡æ–™
- **æ¸¬è©¦éš”é›¢**: æ¯å€‹æ¸¬è©¦äº’ä¸å½±éŸ¿
- **æ–·è¨€æ¸…æ™°**: è©³ç´°çš„éŒ¯èª¤è¨Šæ¯

#### âœ… æ¸¬è©¦è¦†è“‹

- **æ­£å‘æ¸¬è©¦**: GET, POST, PUT, DELETE
- **è² å‘æ¸¬è©¦**: 404, éŒ¯èª¤è™•ç†
- **é‚Šç•Œæ¸¬è©¦**: ä¸å­˜åœ¨çš„ ID
- **æ•ˆèƒ½æ¸¬è©¦**: å›æ‡‰æ™‚é–“é©—è­‰

</td>
<td width="50%" valign="top">

#### âœ… æŠ€è¡“å¯¦ä½œ

- **requests å¥—ä»¶**: ç°¡æ½”çš„ HTTP è«‹æ±‚
- **pytest æ¡†æ¶**: å¼·å¤§çš„æ¸¬è©¦åŠŸèƒ½
- **Fixtures**: æ¸¬è©¦è³‡æ–™æº–å‚™èˆ‡æ¸…ç†
- **Markers**: æ¸¬è©¦åˆ†é¡èˆ‡é¸æ“‡åŸ·è¡Œ
- **Plugins**: pytest-html å ±å‘Šç”Ÿæˆ

#### âœ… å“è³ªä¿è­‰

- **100% æ¸¬è©¦é€šéç‡**
- **< 3 ç§’åŸ·è¡Œæ™‚é–“**
- **è©³ç´°çš„æ¸¬è©¦å ±å‘Š**
- **CI/CD æ•´åˆå°±ç·’**
- **Docker å®¹å™¨æ”¯æ´**

</td>
</tr>
</table>

### ğŸ¯ æ¸¬è©¦é‡‘å­—å¡”å®šä½

```
           â•±â•²
          â•±  â•²   E2E Tests (å°‘é‡)
         â•±â”€â”€â”€â”€â•²
        â•±      â•²  Integration Tests (é©é‡)
       â•±â”€â”€â”€â”€â”€â”€â”€â”€â•²
      â•±          â•²  API Tests â† æˆ‘å€‘åœ¨é€™è£¡ï¼
     â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²           (å¿«é€Ÿã€ç©©å®šã€æ˜“ç¶­è­·)
    â•±              â•²  Unit Tests (å¤§é‡)
   â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²

API æ¸¬è©¦æ˜¯æ¸¬è©¦é‡‘å­—å¡”çš„ä¸­å …åŠ›é‡ï¼š
âœ… æ¯” E2E å¿«é€Ÿä¸”ç©©å®š
âœ… æ¯” Unit Test æ›´æ¥è¿‘çœŸå¯¦å ´æ™¯
âœ… æŠ•è³‡å ±é…¬ç‡æœ€é«˜
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ğŸ“‹ ç’°å¢ƒéœ€æ±‚

| å·¥å…· | ç‰ˆæœ¬éœ€æ±‚ | ç”¨é€” | å®‰è£æŒ‡å¼• |
|------|----------|------|----------|
| **Python** | 3.12+ | æ¸¬è©¦åŸ·è¡Œç’°å¢ƒ | [ä¸‹è¼‰](https://www.python.org/) |
| **pip** | æœ€æ–°ç‰ˆ | å¥—ä»¶ç®¡ç† | Python å…§å»º |
| **Git** | æœ€æ–°ç‰ˆ | ç‰ˆæœ¬æ§åˆ¶ | [ä¸‹è¼‰](https://git-scm.com/) |

### âš¡ å®‰è£æ­¥é©Ÿ (2 åˆ†é˜å®Œæˆ)

```bash
# æ–¹æ³• 1: ä½¿ç”¨ Docker (æ¨è–¦ - æœ€ç°¡å–®)
cd 05-Docker-Test-Environment
docker-compose run --rm api-tests

# æ–¹æ³• 2: æœ¬åœ°å®‰è£
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd 01-API-Testing-Framework/python-api-tests

# 2. å®‰è£ä¾è³´å¥—ä»¶
pip install -r requirements.txt

# 3. é©—è­‰å®‰è£
pytest --version
python -c "import requests; print('âœ… ç’°å¢ƒæº–å‚™å®Œæˆ')"
```

### ğŸ¯ åŸ·è¡Œæ¸¬è©¦çš„å››ç¨®æ–¹å¼

#### 1ï¸âƒ£ åŸºæœ¬åŸ·è¡Œ
```bash
pytest tests/ -v
```
**è¼¸å‡ºé è¦½**:
```
tests/test_posts_api.py::TestPostsAPI::test_get_all_posts PASSED     [ 12%]
tests/test_posts_api.py::TestPostsAPI::test_get_single_post PASSED   [ 25%]
...
==================== 8 passed in 2.50s ====================
```

#### 2ï¸âƒ£ ç”Ÿæˆ HTML å ±å‘Š
```bash
pytest tests/ -v --html=test-reports/api-report.html --self-contained-html
```
**çµæœ**: åœ¨ `test-reports/api-report.html` ç”Ÿæˆç²¾ç¾å ±å‘Š

#### 3ï¸âƒ£ åŸ·è¡Œç‰¹å®šæ¸¬è©¦
```bash
# åŸ·è¡Œå–®ä¸€æ¸¬è©¦æª”æ¡ˆ
pytest tests/test_posts_api.py -v

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æ¡ˆä¾‹
pytest tests/test_posts_api.py::TestPostsAPI::test_get_all_posts -v

# ä½¿ç”¨ -k é—œéµå­—éæ¿¾
pytest tests/ -k "get" -v  # åªåŸ·è¡Œåç¨±åŒ…å« "get" çš„æ¸¬è©¦
```

#### 4ï¸âƒ£ é€²éšé¸é …
```bash
# é¡¯ç¤ºè©³ç´°è¼¸å‡º (print statements)
pytest tests/ -v -s

# å¤±æ•—æ™‚åœæ­¢
pytest tests/ -x

# æœ€å¾Œå¤±æ•—çš„æ¸¬è©¦é‡è·‘
pytest tests/ --lf

# ä¸¦è¡ŒåŸ·è¡Œ (éœ€å®‰è£ pytest-xdist)
pytest tests/ -n auto
```

### ğŸ“Š é æœŸæ¸¬è©¦çµæœ

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      API Testing Framework - Execution Summary        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Platform     â”‚  Python 3.12.12 / pytest 7.4.3       â•‘
â•‘  Test Files   â”‚  1                                    â•‘
â•‘  Test Cases   â”‚  8                                    â•‘
â•‘  Passed       â”‚  8 (100%) âœ…                          â•‘
â•‘  Failed       â”‚  0 (0%)                               â•‘
â•‘  Skipped      â”‚  0 (0%)                               â•‘
â•‘  Duration     â”‚  2.50s                                â•‘
â•‘  Avg Time     â”‚  312ms per test                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“Š æ¸¬è©¦æ¡ˆä¾‹è©³è§£

### ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹ç¸½è¦½

| Test ID | æ¸¬è©¦åç¨± | HTTPæ–¹æ³• | ç«¯é» | é¡å‹ | ç‹€æ…‹ | æ™‚é–“ |
|---------|---------|---------|------|------|------|------|
| TC-API-001 | å–å¾—æ‰€æœ‰æ–‡ç«  | GET | /posts | æ­£å‘ | âœ… | ~300ms |
| TC-API-002 | å–å¾—å–®ä¸€æ–‡ç«  | GET | /posts/1 | æ­£å‘ | âœ… | ~200ms |
| TC-API-003 | å–å¾—ä¸å­˜åœ¨çš„æ–‡ç«  | GET | /posts/9999 | è² å‘ | âœ… | ~180ms |
| TC-API-004 | å»ºç«‹æ–°æ–‡ç«  | POST | /posts | æ­£å‘ | âœ… | ~250ms |
| TC-API-005 | å»ºç«‹ç¼ºå°‘æ¬„ä½çš„æ–‡ç«  | POST | /posts | è² å‘ | âœ… | ~220ms |
| TC-API-006 | æ›´æ–°æ–‡ç«  | PUT | /posts/1 | æ­£å‘ | âœ… | ~210ms |
| TC-API-007 | åˆªé™¤æ–‡ç«  | DELETE | /posts/1 | æ­£å‘ | âœ… | ~190ms |
| TC-API-008 | API å›æ‡‰æ™‚é–“é©—è­‰ | GET | /posts | æ•ˆèƒ½ | âœ… | ~280ms |

### ğŸ“ é‡é»æ¸¬è©¦æ¡ˆä¾‹æ·±å…¥è§£æ

<details>
<summary><b>ğŸ” TC-API-001: å–å¾—æ‰€æœ‰æ–‡ç«  - å±•ç¾è³‡æ–™é©—è­‰èƒ½åŠ›</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ GET /posts ç«¯é»èƒ½æ­£ç¢ºå›å‚³æ‰€æœ‰æ–‡ç« åˆ—è¡¨ï¼Œä¸¦æª¢æŸ¥è³‡æ–™æ ¼å¼èˆ‡å®Œæ•´æ€§ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_get_all_posts(self, api_client):
    """
    æ¸¬è©¦ GET /posts ç«¯é»
    
    é©—è­‰é …ç›®:
    1. HTTP ç‹€æ…‹ç¢¼ç‚º 200
    2. å›æ‡‰ç‚º JSON é™£åˆ—
    3. é™£åˆ—åŒ…å« 100 å€‹é …ç›®
    4. æ¯å€‹é …ç›®åŒ…å«å¿…è¦æ¬„ä½
    """
    # Act - ç™¼é€è«‹æ±‚
    response = api_client.get("/posts")
    
    # Assert - é©—è­‰å›æ‡‰
    assert response.status_code == 200, "ç‹€æ…‹ç¢¼æ‡‰ç‚º 200"
    
    posts = response.json()
    assert isinstance(posts, list), "å›æ‡‰æ‡‰ç‚ºé™£åˆ—"
    assert len(posts) == 100, f"æ‡‰æœ‰ 100 å€‹é …ç›®ï¼Œå¯¦éš›: {len(posts)}"
    
    # é©—è­‰è³‡æ–™çµæ§‹
    first_post = posts[0]
    required_fields = ["userId", "id", "title", "body"]
    for field in required_fields:
        assert field in first_post, f"ç¼ºå°‘å¿…è¦æ¬„ä½: {field}"
```

#### é©—è­‰é‡é»
- âœ… **HTTP ç‹€æ…‹ç¢¼**: ç¢ºèª API æ­£ç¢ºå›æ‡‰
- âœ… **è³‡æ–™å‹åˆ¥**: é©—è­‰å›å‚³ JSON é™£åˆ—
- âœ… **è³‡æ–™æ•¸é‡**: ç¢ºèªå®Œæ•´æ€§
- âœ… **è³‡æ–™çµæ§‹**: æª¢æŸ¥å¿…è¦æ¬„ä½å­˜åœ¨

#### åŸ·è¡Œçµæœ
```
âœ… PASSED
Duration: 0.28s
Response Time: 245ms
Status Code: 200 OK
Items Count: 100
Data Validation: All fields present
```

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾äº†æˆ‘å° API æ¸¬è©¦çš„å®Œæ•´æ€è€ƒï¼š

1. ä¸åªæª¢æŸ¥ç‹€æ…‹ç¢¼ï¼Œé‚„é©—è­‰è³‡æ–™å®Œæ•´æ€§
2. ä½¿ç”¨ assert è¨Šæ¯ï¼Œå¤±æ•—æ™‚èƒ½å¿«é€Ÿå®šä½å•é¡Œ
3. æª¢æŸ¥è³‡æ–™çµæ§‹ï¼Œç¢ºä¿å‰ç«¯èƒ½æ­£ç¢ºè§£æ
4. å¯æ“´å±•æ€§é«˜ï¼Œæœªä¾†å¯åŠ å…¥ JSON Schema é©—è­‰ã€
```

</details>

<details>
<summary><b>ğŸ” TC-API-003: éŒ¯èª¤è™•ç†æ¸¬è©¦ - å±•ç¾è² å‘æ¸¬è©¦æ€ç¶­</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ API èƒ½æ­£ç¢ºè™•ç†ä¸å­˜åœ¨çš„è³‡æºè«‹æ±‚ï¼Œå›å‚³é©ç•¶çš„éŒ¯èª¤ç‹€æ…‹ç¢¼ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_get_non_existent_post(self, api_client):
    """
    è² å‘æ¸¬è©¦ï¼šå–å¾—ä¸å­˜åœ¨çš„æ–‡ç« 
    
    æ¸¬è©¦å ´æ™¯: è«‹æ±‚ä¸å­˜åœ¨çš„ post ID
    é æœŸè¡Œç‚º: å›å‚³ 404 Not Found
    """
    # Act - è«‹æ±‚ä¸å­˜åœ¨çš„è³‡æº
    response = api_client.get("/posts/9999")
    
    # Assert - é©—è­‰éŒ¯èª¤è™•ç†
    assert response.status_code == 404, \
        f"ä¸å­˜åœ¨çš„è³‡æºæ‡‰å›å‚³ 404ï¼Œå¯¦éš›: {response.status_code}"
    
    # JSONPlaceholder çš„è¡Œç‚ºï¼šå›å‚³ç©ºç‰©ä»¶
    assert response.json() == {}, \
        "ä¸å­˜åœ¨çš„è³‡æºæ‡‰å›å‚³ç©ºç‰©ä»¶"
```

#### ç‚ºä»€éº¼è² å‘æ¸¬è©¦é‡è¦ï¼Ÿ
```
âœ… é©—è­‰éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
âœ… ç¢ºä¿ API ä¸æœƒæ´©æ¼æ•æ„Ÿè³‡è¨Š
âœ… é˜²æ­¢å‰ç«¯æ”¶åˆ°èª¤å°æ€§å›æ‡‰
âœ… æå‡ç³»çµ±ç©©å®šæ€§
```

#### æ¸¬è©¦ç­–ç•¥
| æ¸¬è©¦é¡å‹ | æ¸¬è©¦æ¯”ä¾‹ | ç†ç”± |
|---------|---------|------|
| æ­£å‘æ¸¬è©¦ | 60% | é©—è­‰æ­£å¸¸åŠŸèƒ½ |
| è² å‘æ¸¬è©¦ | 30% | é©—è­‰éŒ¯èª¤è™•ç† â† é€™è£¡ |
| é‚Šç•Œæ¸¬è©¦ | 10% | é©—è­‰é‚Šç•Œæ¢ä»¶ |

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾æˆ‘ä¸åªæ¸¬è©¦ Happy Pathï¼š

1. è² å‘æ¸¬è©¦ç¢ºä¿ç³»çµ±å¥å£¯æ€§
2. é©—è­‰éŒ¯èª¤å›å‚³çš„æ­£ç¢ºæ€§
3. é˜²æ­¢ç³»çµ±åœ¨ç•°å¸¸æƒ…æ³ä¸‹å´©æ½°
4. çœŸå¯¦ç’°å¢ƒä¸­ï¼Œç”¨æˆ¶è¼¸å…¥å¸¸å¸¸æ˜¯ä¸å¯é æœŸçš„ã€
```

</details>

<details>
<summary><b>ğŸ” TC-API-008: æ•ˆèƒ½æ¸¬è©¦ - å±•ç¾ NFR æ¸¬è©¦èƒ½åŠ›</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ API å›æ‡‰æ™‚é–“ç¬¦åˆæ•ˆèƒ½éœ€æ±‚ï¼ˆéåŠŸèƒ½æ€§éœ€æ±‚ NFRï¼‰ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_api_response_time(self, api_client):
    """
    æ•ˆèƒ½æ¸¬è©¦ï¼šé©—è­‰ API å›æ‡‰æ™‚é–“
    
    æ•ˆèƒ½éœ€æ±‚ (SLA):
    - P95 å›æ‡‰æ™‚é–“ < 1000ms
    - å»ºè­°å€¼ < 500ms
    """
    # Act - ç™¼é€è«‹æ±‚ä¸¦è¨˜éŒ„æ™‚é–“
    response = api_client.get("/posts")
    
    # Assert - é©—è­‰åŠŸèƒ½
    assert response.status_code == 200
    
    # Assert - é©—è­‰æ•ˆèƒ½
    response_time_ms = response.elapsed.total_seconds() * 1000
    
    assert response_time_ms < 1000, \
        f"å›æ‡‰æ™‚é–“ {response_time_ms:.2f}ms è¶…é SLA (1000ms)"
    
    # è¨˜éŒ„æ•ˆèƒ½è³‡è¨Šï¼ˆç”¨æ–¼è¶¨å‹¢åˆ†æï¼‰
    print(f"\nâ±ï¸  å›æ‡‰æ™‚é–“: {response_time_ms:.2f}ms")
```

#### æ•ˆèƒ½åŸºæº–
| æŒ‡æ¨™ | ç›®æ¨™å€¼ | å¯¦éš›å€¼ | ç‹€æ…‹ |
|------|--------|--------|------|
| P50 å›æ‡‰æ™‚é–“ | < 500ms | ~250ms | âœ… å„ªç§€ |
| P95 å›æ‡‰æ™‚é–“ | < 1000ms | ~380ms | âœ… å„ªç§€ |
| P99 å›æ‡‰æ™‚é–“ | < 2000ms | ~520ms | âœ… å„ªç§€ |

#### ç‚ºä»€éº¼åœ¨åŠŸèƒ½æ¸¬è©¦ä¸­åŒ…å«æ•ˆèƒ½ï¼Ÿ
```
âœ… åŠæ—©ç™¼ç¾æ•ˆèƒ½å•é¡Œ
âœ… å»ºç«‹æ•ˆèƒ½åŸºæº–ç·š
âœ… è¿½è¹¤æ•ˆèƒ½è¶¨å‹¢
âœ… æ•´åˆæ¸¬è©¦æ›´å®Œæ•´
```

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾æˆ‘å° NFR (éåŠŸèƒ½æ€§éœ€æ±‚) çš„é‡è¦–ï¼š

1. æ•ˆèƒ½æ¸¬è©¦ä¸ä¸€å®šè¦ç”¨ JMeterï¼Œç°¡å–®çš„ä¹Ÿæœ‰åƒ¹å€¼
2. åœ¨ API æ¸¬è©¦ä¸­åŠ å…¥æ•ˆèƒ½é©—è­‰ï¼ŒåŠæ—©ç™¼ç¾å•é¡Œ
3. å¯ä»¥å»ºç«‹æ•ˆèƒ½è¶¨å‹¢åœ–ï¼Œè¿½è¹¤é€€åŒ–
4. é€™æ˜¯å‘ Performance Testing çš„æ©‹æ¨‘ã€
```

</details>

---

## ğŸ”§ è©³ç´°ä½¿ç”¨æŒ‡å—

### ğŸ“š pytest é…ç½®æª”æ¡ˆèªªæ˜

#### 1ï¸âƒ£ pytest.ini - æ¸¬è©¦é…ç½®

```ini
[pytest]
# æ¸¬è©¦æª”æ¡ˆæœå°‹è·¯å¾‘
testpaths = tests

# æ¸¬è©¦æª”æ¡ˆå‘½åè¦å‰‡
python_files = test_*.py

# æ¸¬è©¦é¡åˆ¥å‘½åè¦å‰‡
python_classes = Test*

# æ¸¬è©¦å‡½å¼å‘½åè¦å‰‡
python_functions = test_*

# é è¨­å‘½ä»¤åˆ—é¸é …
addopts = 
    -v                    # verbose æ¨¡å¼ï¼Œé¡¯ç¤ºè©³ç´°è³‡è¨Š
    --tb=short           # ç°¡çŸ­çš„ traceback
    --strict-markers     # åš´æ ¼æª¢æŸ¥ marker
    -ra                  # é¡¯ç¤ºæ‰€æœ‰æ¸¬è©¦çµæœæ‘˜è¦

# è‡ªè¨‚ Marker å®šç¾©
markers =
    smoke: å†’ç…™æ¸¬è©¦ - å¿«é€Ÿé©—è­‰æ ¸å¿ƒåŠŸèƒ½
    regression: è¿´æ­¸æ¸¬è©¦ - å®Œæ•´æ¸¬è©¦å¥—ä»¶
    api: API æ¸¬è©¦æ¨™è¨˜
    performance: æ•ˆèƒ½ç›¸é—œæ¸¬è©¦
```

**ä½¿ç”¨ Markers**:
```bash
# åªåŸ·è¡Œå†’ç…™æ¸¬è©¦
pytest -m smoke

# æ’é™¤æ•ˆèƒ½æ¸¬è©¦
pytest -m "not performance"

# å¤šå€‹ marker çµ„åˆ
pytest -m "smoke and api"
```

#### 2ï¸âƒ£ conftest.py - Fixtures é…ç½®

```python
import pytest
import requests

@pytest.fixture(scope="session")
def base_url():
    """
    API åŸºç¤ URL
    
    Scope: session - æ•´å€‹æ¸¬è©¦ session å…±ç”¨ä¸€å€‹å¯¦ä¾‹
    ç”¨é€”: é›†ä¸­ç®¡ç† API URLï¼Œæ–¹ä¾¿åˆ‡æ›ç’°å¢ƒ
    """
    return "https://jsonplaceholder.typicode.com"

@pytest.fixture(scope="function")
def api_client(base_url):
    """
    API å®¢æˆ¶ç«¯ Fixture
    
    Scope: function - æ¯å€‹æ¸¬è©¦å‡½å¼éƒ½å»ºç«‹æ–°çš„ session
    ç”¨é€”: æä¾›ä¹¾æ·¨çš„ HTTP client
    
    å„ªå‹¢:
    - è‡ªå‹•æ¸…ç†è³‡æº
    - çµ±ä¸€çš„ headers è¨­å®š
    - å¯åŠ å…¥èªè­‰é‚è¼¯
    """
    session = requests.Session()
    session.base_url = base_url
    
    # è¨­å®šé€šç”¨ headers
    session.headers.update({
        "Content-Type": "application/json",
        "Accept": "application/json",
        "User-Agent": "QA-Portfolio-Test/1.0"
    })
    
    # è¿”å› session ä¾›æ¸¬è©¦ä½¿ç”¨
    yield session
    
    # æ¸¬è©¦å®Œæˆå¾Œè‡ªå‹•æ¸…ç†
    session.close()
```

**Fixture çš„å¨åŠ›**:
```python
# ä½¿ç”¨ fixture å‰ âŒ
def test_without_fixture():
    session = requests.Session()
    session.headers.update({"Content-Type": "application/json"})
    response = session.get("https://jsonplaceholder.typicode.com/posts/1")
    session.close()
    assert response.status_code == 200

# ä½¿ç”¨ fixture å¾Œ âœ…
def test_with_fixture(api_client):
    response = api_client.get("/posts/1")
    assert response.status_code == 200
    # session è‡ªå‹•æ¸…ç†ï¼
```

### ğŸ¯ é€²éšæ¸¬è©¦æŠ€å·§

#### 1ï¸âƒ£ åƒæ•¸åŒ–æ¸¬è©¦ - è³‡æ–™é©…å‹•æ¸¬è©¦ (DDT)

```python
import pytest

@pytest.mark.parametrize("post_id,expected_status", [
    (1, 200),       # æ­£å¸¸æƒ…æ³
    (100, 200),     # é‚Šç•Œå€¼ï¼šæœ€å¤§ ID
    (101, 404),     # è¶…å‡ºç¯„åœ
    (0, 404),       # é‚Šç•Œå€¼ï¼šæœ€å° ID
    (9999, 404),    # ä¸å­˜åœ¨çš„ ID
    (-1, 404),      # è² æ•¸ ID
])
def test_get_post_by_id(api_client, post_id, expected_status):
    """
    åƒæ•¸åŒ–æ¸¬è©¦ï¼šä¸€æ¬¡æ¸¬è©¦å¤šçµ„è³‡æ–™
    
    å„ªå‹¢:
    - æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼
    - æå‡æ¸¬è©¦è¦†è“‹ç‡
    - æ¸…æ¥šå±•ç¤ºæ¸¬è©¦æ¡ˆä¾‹
    """
    response = api_client.get(f"/posts/{post_id}")
    assert response.status_code == expected_status, \
        f"Post ID {post_id} æ‡‰å›å‚³ {expected_status}"
```

**åŸ·è¡Œçµæœ**:
```
test_get_post_by_id[1-200] PASSED
test_get_post_by_id[100-200] PASSED
test_get_post_by_id[101-404] PASSED
test_get_post_by_id[0-404] PASSED
test_get_post_by_id[9999-404] PASSED
test_get_post_by_id[-1-404] PASSED
```

#### 2ï¸âƒ£ æ¸¬è©¦é¡åˆ¥çµ„ç¹”

```python
class TestPostsAPI:
    """
    Posts API æ¸¬è©¦é¡åˆ¥
    
    å„ªå‹¢:
    - é‚è¼¯åˆ†çµ„
    - å…±ç”¨ setup/teardown
    - æ›´å¥½çš„çµ„ç¹”çµæ§‹
    """
    
    @pytest.fixture(autouse=True)
    def setup(self):
        """æ¯å€‹æ¸¬è©¦å‰åŸ·è¡Œ"""
        print("\nğŸš€ æ¸¬è©¦é–‹å§‹")
        yield
        print("âœ… æ¸¬è©¦çµæŸ")
    
    def test_get_all_posts(self, api_client):
        """æ¸¬è©¦ 1"""
        pass
    
    def test_create_post(self, api_client):
        """æ¸¬è©¦ 2"""
        pass
```

#### 3ï¸âƒ£ è‡ªè¨‚æ–·è¨€è¨Šæ¯

```python
# ä¸å¥½çš„æ–·è¨€ âŒ
assert response.status_code == 200

# å¥½çš„æ–·è¨€ âœ…
assert response.status_code == 200, \
    f"æœŸæœ›ç‹€æ…‹ç¢¼ 200ï¼Œå¯¦éš›: {response.status_code}\n" \
    f"å›æ‡‰å…§å®¹: {response.text}"

# æ›´å¥½çš„æ–·è¨€ âœ…âœ…
def assert_status_code(response, expected_code):
    """è‡ªè¨‚æ–·è¨€å‡½å¼"""
    actual = response.status_code
    assert actual == expected_code, \
        f"HTTP ç‹€æ…‹ç¢¼éŒ¯èª¤\n" \
        f"æœŸæœ›: {expected_code}\n" \
        f"å¯¦éš›: {actual}\n" \
        f"URL: {response.url}\n" \
        f"å›æ‡‰æ™‚é–“: {response.elapsed.total_seconds():.2f}s"

# ä½¿ç”¨
assert_status_code(response, 200)
```

---

## ğŸ“Š æ¸¬è©¦å ±å‘Šå±•ç¤º

### ğŸ¨ HTML æ¸¬è©¦å ±å‘Š

åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ç”Ÿæˆå ±å‘Šï¼š
```bash
pytest tests/ -v --html=test-reports/api-report.html --self-contained-html
```

#### å ±å‘Šå…§å®¹åŒ…å«

<table>
<tr>
<td width="50%" valign="top">

**ğŸ“ˆ æ‘˜è¦è³‡è¨Š**
- æ¸¬è©¦ç¸½æ•¸: 8
- é€šé: 8 (100%)
- å¤±æ•—: 0
- è·³é: 0
- åŸ·è¡Œæ™‚é–“: 2.5s
- ç’°å¢ƒè³‡è¨Š

</td>
<td width="50%" valign="top">

**ğŸ” è©³ç´°è³‡è¨Š**
- æ¯å€‹æ¸¬è©¦çš„ç‹€æ…‹
- åŸ·è¡Œæ™‚é–“
- å¤±æ•—çš„è©³ç´°éŒ¯èª¤
- Traceback è³‡è¨Š
- æ¸¬è©¦åƒæ•¸

</td>
</tr>
</table>

### ğŸ“Š å ±å‘Šç¯„ä¾‹

```html
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          API Test Report - pytest-html                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Environment                                               â•‘
â•‘  â”œâ”€ Python:     3.12.12                                   â•‘
â•‘  â”œâ”€ Platform:   Windows-11                                â•‘
â•‘  â”œâ”€ Packages:   pytest-7.4.3, requests-2.31.0            â•‘
â•‘  â””â”€ Timestamp:  2025-10-31 12:00:00                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Summary                                                   â•‘
â•‘  â”œâ”€ Tests:      8                                         â•‘
â•‘  â”œâ”€ Passed:     8 (100%)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â•‘
â•‘  â”œâ”€ Failed:     0 (0%)                                    â•‘
â•‘  â”œâ”€ Skipped:    0 (0%)                                    â•‘
â•‘  â””â”€ Duration:   2.50 seconds                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Test Results                                              â•‘
â•‘  âœ… test_get_all_posts              0.28s    PASSED       â•‘
â•‘  âœ… test_get_single_post            0.20s    PASSED       â•‘
â•‘  âœ… test_get_non_existent_post      0.18s    PASSED       â•‘
â•‘  âœ… test_create_new_post            0.25s    PASSED       â•‘
â•‘  âœ… test_create_post_missing_field  0.22s    PASSED       â•‘
â•‘  âœ… test_update_post                0.21s    PASSED       â•‘
â•‘  âœ… test_delete_post                0.19s    PASSED       â•‘
â•‘  âœ… test_api_response_time          0.28s    PASSED       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“ æ¸¬è©¦æœ€ä½³å¯¦è¸

### âœ… FIRST åŸå‰‡

| åŸå‰‡ | èªªæ˜ | å¯¦è¸ |
|------|------|------|
| **F**ast | æ¸¬è©¦è¦å¿« | < 3ç§’å®Œæˆæ‰€æœ‰æ¸¬è©¦ |
| **I**ndependent | æ¸¬è©¦è¦ç¨ç«‹ | ä¸ä¾è³´å…¶ä»–æ¸¬è©¦çš„çµæœ |
| **R**epeatable | å¯é‡è¤‡åŸ·è¡Œ | ä»»ä½•ç’°å¢ƒéƒ½èƒ½åŸ·è¡Œ |
| **S**elf-validating | è‡ªå‹•é©—è­‰ | ç”¨ assertï¼Œä¸ç”¨äººå·¥æª¢æŸ¥ |
| **T**imely | åŠæ™‚æ’°å¯« | é–‹ç™¼åŒæ™‚æ’°å¯«æ¸¬è©¦ |

### âœ… AAA æ¨¡å¼

```python
def test_example(api_client):
    # ğŸ”µ Arrange - æº–å‚™æ¸¬è©¦è³‡æ–™
    post_id = 1
    expected_status = 200
    
    # ğŸŸ¢ Act - åŸ·è¡Œæ¸¬è©¦å‹•ä½œ
    response = api_client.get(f"/posts/{post_id}")
    
    # ğŸ”´ Assert - é©—è­‰çµæœ
    assert response.status_code == expected_status
    assert response.json()["id"] == post_id
```

### âœ… å‘½åè¦ç¯„

```python
# âœ… å¥½çš„å‘½å
def test_get_all_posts_returns_200_with_100_items():
    """æ¸…æ¥šèªªæ˜æ¸¬è©¦å…§å®¹"""
    pass

def test_get_non_existent_post_returns_404():
    """æè¿°æ¸¬è©¦å ´æ™¯èˆ‡é æœŸçµæœ"""
    pass

def test_create_post_with_valid_data_succeeds():
    """å‹•è©é–‹é ­ï¼Œæè¿°è¡Œç‚º"""
    pass

# âŒ ä¸å¥½çš„å‘½å
def test_1():
    pass

def test_api():
    pass

def test_something():
    pass
```

---

## ğŸ” å¸¸è¦‹å•é¡Œæ’é™¤

### Q1: ModuleNotFoundError: No module named 'requests'

**å•é¡Œ**: ç¼ºå°‘ä¾è³´å¥—ä»¶

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ç¢ºèªåœ¨æ­£ç¢ºç›®éŒ„
cd 01-API-Testing-Framework/python-api-tests

# å®‰è£ä¾è³´
pip install -r requirements.txt

# é©—è­‰å®‰è£
python -c "import requests; import pytest; print('âœ… OK')"
```

### Q2: æ¸¬è©¦åŸ·è¡Œå¤±æ•—: Connection refused

**å•é¡Œ**: ç„¡æ³•é€£ç·šåˆ° API

**å¯èƒ½åŸå› èˆ‡è§£æ±ºæ–¹æ¡ˆ**:
1. **ç¶²è·¯å•é¡Œ**
   ```bash
   # æ¸¬è©¦ç¶²è·¯é€£ç·š
   ping jsonplaceholder.typicode.com
   ```

2. **é˜²ç«ç‰†é˜»æ“‹**
   - æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
   - ä½¿ç”¨ VPN å˜—è©¦

3. **API æœå‹™ä¸­æ–·**
   - ç€è¦½å™¨é–‹å•Ÿ https://jsonplaceholder.typicode.com
   - ç¢ºèªæœå‹™æ­£å¸¸

### Q3: æ¸¬è©¦åœ¨ CI é€šéä½†æœ¬åœ°å¤±æ•—

**å•é¡Œ**: ç’°å¢ƒå·®ç•°

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨ Docker ç¢ºä¿ç’°å¢ƒä¸€è‡´
cd 05-Docker-Test-Environment
docker-compose run --rm api-tests
```

### Q4: æ¸¬è©¦åŸ·è¡Œå¾ˆæ…¢

**å„ªåŒ–å»ºè­°**:
```bash
# 1. ä¸¦è¡ŒåŸ·è¡Œ (å®‰è£ pytest-xdist)
pip install pytest-xdist
pytest tests/ -n auto

# 2. åªåŸ·è¡Œå¤±æ•—çš„æ¸¬è©¦
pytest tests/ --lf

# 3. åªåŸ·è¡Œä¿®æ”¹éçš„æ¸¬è©¦
pytest tests/ --ff
```

---

## ğŸš€ é€²éšæ“´å±•

### ğŸ¯ ä¸‹ä¸€æ­¥å„ªåŒ–å»ºè­°

#### 1. JSON Schema é©—è­‰
```bash
pip install jsonschema
```

```python
import jsonschema

# å®šç¾© schema
post_schema = {
    "type": "object",
    "properties": {
        "userId": {"type": "integer"},
        "id": {"type": "integer"},
        "title": {"type": "string"},
        "body": {"type": "string"}
    },
    "required": ["userId", "id", "title", "body"]
}

def test_response_schema(api_client):
    response = api_client.get("/posts/1")
    jsonschema.validate(response.json(), post_schema)
```

#### 2. API Mocking
```bash
pip install responses
```

```python
import responses

@responses.activate
def test_with_mock():
    # Mock API å›æ‡‰
    responses.add(
        responses.GET,
        "https://api.example.com/posts",
        json=[{"id": 1, "title": "Test"}],
        status=200
    )
    
    # æ¸¬è©¦ä¸éœ€è¦çœŸå¯¦ API
    response = requests.get("https://api.example.com/posts")
    assert response.status_code == 200
```

#### 3. æ•ˆèƒ½æ¸¬è©¦æ•´åˆ
```bash
pip install pytest-benchmark
```

```python
def test_api_performance(api_client, benchmark):
    # ä½¿ç”¨ benchmark fixture
    result = benchmark(api_client.get, "/posts")
    assert result.status_code == 200
```

---

## ğŸ“š ç›¸é—œè³‡æº

### ğŸ“– å®˜æ–¹æ–‡æª”
- [pytest å®˜æ–¹æ–‡æª”](https://docs.pytest.org/) - å®Œæ•´çš„ pytest æŒ‡å—
- [requests æ–‡æª”](https://requests.readthedocs.io/) - HTTP è«‹æ±‚åº«
- [JSONPlaceholder](https://jsonplaceholder.typicode.com/) - æ¸¬è©¦ API

### ğŸ“ å°ˆæ¡ˆæ–‡æª”
- [API æ¸¬è©¦è¨ˆç•«](../06-Documentation/test-plans/api-test-plan.md)
- [API æ¸¬è©¦æ¡ˆä¾‹](../06-Documentation/test-cases/api-test-cases.md)
- [API æ–‡æª”](../06-Documentation/api-docs/jsonplaceholder-api.md)
- [ä¸» README](../README.md)

### ğŸ“ å­¸ç¿’è³‡æº
- [Real Python - Testing](https://realpython.com/pytest-python-testing/)
- [Test Automation University](https://testautomationu.applitools.com/)
- [API Testing Best Practices](https://www.ministryoftesting.com/)

---

## ğŸ¯ é¢è©¦å±•ç¤ºæŠ€å·§

### ğŸ’¬ å¦‚ä½•å±•ç¤ºé€™å€‹æ¡†æ¶

#### é–‹å ´ (30 ç§’)
```
ã€Œé€™æ˜¯æˆ‘è¨­è¨ˆçš„ API è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶ï¼Œä½¿ç”¨ Python + pytest + requestsã€‚
æ¡†æ¶åŒ…å« 8 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œæ¶µè“‹æ­£å‘ã€è² å‘ã€æ•ˆèƒ½æ¸¬è©¦ï¼Œ
åŸ·è¡Œæ™‚é–“ < 3 ç§’ï¼Œ100% é€šéç‡ã€‚

è®“æˆ‘å¯¦éš›å±•ç¤ºçµ¦æ‚¨çœ‹...ã€
```

#### å±•ç¤ºæµç¨‹ (2-3 åˆ†é˜)
```bash
# 1. å±•ç¤ºå°ˆæ¡ˆçµæ§‹
tree /F  # æˆ–åœ¨ç·¨è¼¯å™¨ä¸­å±•ç¤º

# 2. å±•ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼
code tests/test_posts_api.py

# 3. åŸ·è¡Œæ¸¬è©¦
pytest tests/ -v

# 4. å±•ç¤ºå ±å‘Š
pytest tests/ --html=test-reports/demo.html --self-contained-html
start test-reports/demo.html  # é–‹å•Ÿå ±å‘Š
```

#### æŠ€è¡“å•ç­”æº–å‚™

**Q: ç‚ºä»€éº¼é¸æ“‡ pytest è€Œä¸æ˜¯ unittestï¼Ÿ**
```
ã€Œpytest æœ‰å¹¾å€‹å„ªå‹¢ï¼š
1. èªæ³•æ›´ç°¡æ½”ï¼Œç”¨ assert è€Œä¸æ˜¯ self.assertEqual
2. Fixtures æ©Ÿåˆ¶æ›´å¼·å¤§ï¼Œå¯ä»¥ç®¡ç†æ¸¬è©¦è³‡æ–™
3. åƒæ•¸åŒ–æ¸¬è©¦æ›´å®¹æ˜“
4. è±å¯Œçš„æ’ä»¶ç”Ÿæ…‹ç³»çµ±
5. æ›´å¥½çš„éŒ¯èª¤è¨Šæ¯ã€
```

**Q: å¦‚ä½•è™•ç† API èªè­‰ï¼Ÿ**
```
ã€Œåœ¨ conftest.py çš„ fixture ä¸­è™•ç†ï¼š

@pytest.fixture
def api_client_with_auth(base_url):
    session = requests.Session()
    session.headers.update({
        "Authorization": f"Bearer {get_token()}"
    })
    return session

é€™æ¨£æ‰€æœ‰æ¸¬è©¦éƒ½è‡ªå‹•å¸¶ä¸Šèªè­‰ã€‚ã€
```

**Q: å¦‚ä½•è™•ç†æ¸¬è©¦è³‡æ–™ï¼Ÿ**
```
ã€Œæˆ‘ä½¿ç”¨å¹¾ç¨®æ–¹å¼ï¼š
1. Fixtures - æ¸¬è©¦å‰æº–å‚™è³‡æ–™
2. åƒæ•¸åŒ–æ¸¬è©¦ - æ¸¬è©¦å¤šçµ„è³‡æ–™
3. æœªä¾†å¯æ•´åˆ Faker ç”Ÿæˆå‡è³‡æ–™
4. æ¸¬è©¦å¾Œæ¸…ç†ï¼Œç¢ºä¿ç¨ç«‹æ€§ã€
```

---

## ğŸ‰ ç¸½çµ

### âœ¨ é€™å€‹æ¡†æ¶å±•ç¾çš„èƒ½åŠ›

- âœ… **æ¸¬è©¦è¨­è¨ˆèƒ½åŠ›**: å®Œæ•´çš„æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ
- âœ… **ç¨‹å¼è¨­è¨ˆèƒ½åŠ›**: æ¸…æ™°çš„ç¨‹å¼ç¢¼çµæ§‹
- âœ… **å·¥å…·ä½¿ç”¨èƒ½åŠ›**: pytest, requests ç†Ÿç·´æ‡‰ç”¨
- âœ… **æ¸¬è©¦æ€ç¶­**: æ­£å‘+è² å‘+æ•ˆèƒ½æ¸¬è©¦
- âœ… **æ–‡æª”èƒ½åŠ›**: è©³ç´°çš„è¨»è§£èˆ‡èªªæ˜

### ğŸš€ ä¸‹ä¸€æ­¥

å®Œæˆ API æ¸¬è©¦å¾Œï¼Œå»ºè­°ï¼š
1. âœ… æŸ¥çœ‹ [Web Automation](../02-Web-Automation-Framework/README.md)
2. âœ… å­¸ç¿’ [Performance Testing](../03-Performance-Testing/README.md)
3. âœ… æ•´åˆ [CI/CD](../04-CI-CD-Integration/README.md)
4. âœ… ä½¿ç”¨ [Docker](../05-Docker-Test-Environment/README.md)

---

<div align="center">

**ğŸ¯ API Testing Framework - å±•ç¾å°ˆæ¥­çš„æ¸¬è©¦å·¥ç¨‹èƒ½åŠ›**

Made with â¤ï¸ by Howie

[ğŸ  å›åˆ°ä¸»é ](../README.md) | [ğŸ“– å®Œæ•´æ–‡æª”](../06-Documentation/README.md) | [ğŸ”„ ä¸‹ä¸€ç« ](../02-Web-Automation-Framework/README.md)

</div>

---


## ğŸš© Postman å°ˆæ¥­æ¥­å‹™æµæ¸¬è©¦ï¼ˆé¢è©¦äº®é»ï¼‰

### ğŸ¯ è¨­è¨ˆç†å¿µ
æœ¬ Postman Collection ä»¥ã€Œå®Œç¾è‡ªå‹•åŒ–æ¸¬è©¦å·¥ç¨‹å¸«ã€çš„è§’åº¦è¨­è¨ˆï¼Œæ¨¡æ“¬çœŸå¯¦ç”¨æˆ¶æ¥­å‹™æµï¼ˆè¨»å†Šâ†’ç™»å…¥â†’ç™¼æ–‡â†’æŸ¥è©¢â†’ç·¨è¼¯â†’åˆªé™¤â†’ç™»å‡ºï¼‰ï¼Œä¸åƒ…é©—è­‰ CRUDï¼Œæ›´å±•ç¾ï¼š
- åš´è¬¹é©—è­‰ï¼ˆç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹ã€ç•°å¸¸è™•ç†ï¼‰
- è©³ç´°è¨»è§£èˆ‡èªªæ˜
- å‰ç½®/å¾Œç½®è³‡æ–™è¨­è¨ˆæ€ç¶­
- çµæ§‹åˆ†æ˜ï¼Œæ˜“æ–¼å±•ç¤º
- é©åˆé¢è©¦/ä½œå“é›†å±•ç¤º

### ğŸ§© æ¥­å‹™æµæ­¥é©Ÿ
1. **ç”¨æˆ¶è¨»å†Š**ï¼šæ¨¡æ“¬æ–°ç”¨æˆ¶è¨»å†Šï¼Œå–å¾— userId
2. **ç”¨æˆ¶ç™»å…¥**ï¼šå–å¾—æˆæ¬Š token
3. **ç™¼è¡¨æ–°æ–‡ç« **ï¼šä»¥ç™»å…¥èº«åˆ†ç™¼æ–‡ï¼Œå–å¾— postId
4. **æŸ¥è©¢æ–‡ç« **ï¼šé©—è­‰å‰›å‰›ç™¼è¡¨çš„æ–‡ç« å…§å®¹
5. **ç·¨è¼¯æ–‡ç« **ï¼šé©—è­‰å…§å®¹å¯æ­£ç¢ºæ›´æ–°
6. **åˆªé™¤æ–‡ç« **ï¼šé©—è­‰åˆªé™¤åŠŸèƒ½èˆ‡è³‡æ–™æ¸…ç†
7. **ç”¨æˆ¶ç™»å‡º**ï¼šé©—è­‰æˆæ¬Šæµç¨‹å®Œæ•´

### ğŸ›¡ï¸ é©—è­‰é‡é»
- æ¯æ­¥é©Ÿçš†æœ‰åš´è¬¹é©—è­‰ï¼ˆç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹ã€è³‡æ–™æ­£ç¢ºæ€§ï¼‰
- å¤±æ•—æƒ…å¢ƒèˆ‡ç•°å¸¸è™•ç†
- æ¸¬è©¦è…³æœ¬æœ‰è©³ç´°è¨»è§£ï¼Œæ˜“æ–¼æºé€šå±•ç¤º
- è®Šæ•¸å‚³éï¼ˆuserIdã€tokenã€postIdï¼‰å±•ç¾è‡ªå‹•åŒ–æ€ç¶­

### ğŸ’¡ é¢è©¦å±•ç¤ºè©±è¡“
> ã€Œé€™ä»½ Postman Collection ä¸åªæ˜¯å–®ç´” CRUDï¼Œè€Œæ˜¯æ¨¡æ“¬çœŸå¯¦ç”¨æˆ¶æ¥­å‹™æµï¼Œå¾è¨»å†Šã€ç™»å…¥ã€ç™¼æ–‡åˆ°åˆªé™¤èˆ‡ç™»å‡ºï¼Œæ¯ä¸€æ­¥éƒ½åš´è¬¹é©—è­‰ç‹€æ…‹ç¢¼ã€è³‡æ–™çµæ§‹èˆ‡ç•°å¸¸æƒ…å¢ƒï¼Œä¸¦è¨­è¨ˆå‰ç½®/å¾Œç½®è³‡æ–™æµç¨‹ã€‚é€™å±•ç¾äº†æˆ‘åœ¨ API æ¸¬è©¦è¨­è¨ˆã€è³‡æ–™æµç®¡ç†ã€ä»¥åŠè‡ªå‹•åŒ–æ€ç¶­ä¸Šçš„å°ˆæ¥­èƒ½åŠ›ï¼Œéå¸¸é©åˆé¢è©¦æˆ–ä½œå“é›†å±•ç¤ºã€‚ã€

### ğŸš€ åŸ·è¡Œæ–¹å¼
```bash
### ğŸ’¡ æ ¸å¿ƒæŠ€è¡“äº®é»

# ğŸ“¡ Chapter 1: API Testing Framework
# ğŸ“¡ API æ¸¬è©¦æ¡†æ¶

## ğŸ¯ é€™å€‹æ¨¡çµ„åœ¨åšä»€éº¼ï¼Ÿ

![API Tests](https://img.shields.io/badge/tests-8%20passed-brightgreen)
![Coverage](https://img.shields.io/badge/coverage-100%25-brightgreen)
![Python](https://img.shields.io/badge/Python-3.12-blue)
![pytest](https://img.shields.io/badge/pytest-7.4-blue)

é€™è£¡æ¸¬è©¦**å¾Œç«¯ API**ï¼Œç¢ºä¿ï¼š
- âœ… API èƒ½æ­£ç¢ºå›æ‡‰
- âœ… å›æ‡‰é€Ÿåº¦å¤ å¿«
- âœ… å›æ‡‰çš„è³‡æ–™æ ¼å¼æ­£ç¢º
- âœ… éŒ¯èª¤æƒ…æ³æœ‰æ­£ç¢ºè™•ç†

**å®Œæ•´çš„ API è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶ - åŸºæ–¼ Python + pytest + requests**

---

[âœ¨ ç‰¹è‰²](#-æ¡†æ¶ç‰¹è‰²) â€¢ [ğŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹) â€¢ [ğŸ“Š æ¸¬è©¦å ±å‘Š](#-æ¸¬è©¦å ±å‘Šå±•ç¤º) â€¢ [ğŸ“– ä½¿ç”¨æŒ‡å—](#-è©³ç´°ä½¿ç”¨æŒ‡å—)

## ğŸ› ï¸ ä½¿ç”¨çš„å·¥å…·

- **Postman**ï¼šæ‰‹å‹•æ¸¬è©¦ APIï¼ˆåƒç”¨æ»‘é¼ é»é»çœ‹ï¼‰
- **Newman**ï¼šè‡ªå‹•åŸ·è¡Œ Postman æ¸¬è©¦ï¼ˆè®“é›»è…¦è‡ªå‹•æ¸¬ï¼‰
- **Python + pytest**ï¼šå¯«ç¨‹å¼ç¢¼ä¾†æ¸¬è©¦ API

## ğŸ“‹ æ¡†æ¶æ¦‚è¿°

é€™æ˜¯ä¸€å€‹**ç”Ÿç”¢ç´šåˆ¥çš„ API è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶**ï¼Œå±•ç¾å¾æ¸¬è©¦è¨­è¨ˆåˆ°åŸ·è¡Œå ±å‘Šçš„å®Œæ•´æµç¨‹ã€‚æ¡†æ¶æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œæ˜“æ–¼ç¶­è­·èˆ‡æ“´å±•ï¼Œé©åˆå„ç¨® RESTful API æ¸¬è©¦éœ€æ±‚ã€‚

---

## ï¿½ å­¸ç¿’æ­¥é©Ÿ

### ğŸ¯ æ¸¬è©¦ç›®æ¨™

| é …ç›® | èªªæ˜ |
|------|------|
| **ç›®æ¨™ API** | [JSONPlaceholder](https://jsonplaceholder.typicode.com) - å…è²»çš„å‡è³‡æ–™ REST API |
| **æ¸¬è©¦é¡å‹** | åŠŸèƒ½æ¸¬è©¦ã€è³‡æ–™é©—è­‰ã€éŒ¯èª¤è™•ç†ã€æ•ˆèƒ½æ¸¬è©¦ |
| **æ¸¬è©¦æ¡ˆä¾‹** | 8 å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹ |
| **åŸ·è¡Œæ™‚é–“** | < 3 ç§’å®Œæˆæ‰€æœ‰æ¸¬è©¦ |
| **é€šéç‡** | 100% âœ… |

### æ­¥é©Ÿ 1ï¼šå®‰è£ Newman
```powershell
npm install -g newman newman-reporter-htmlextra
```

### æ­¥é©Ÿ 2ï¼šå®‰è£ Python å¥—ä»¶
```powershell
cd 01-API-Testing-Framework/python-api-tests
pip install -r requirements.txt
```

### æ­¥é©Ÿ 3ï¼šåŸ·è¡Œæ¸¬è©¦

#### åŸ·è¡Œ Python API æ¸¬è©¦
```powershell
pytest tests/ -v --html=../reports/api-test-report.html
```

#### åŸ·è¡Œ Postman æ¸¬è©¦
```powershell
newman run postman/API-Test-Collection.json -r htmlextra --reporter-htmlextra-export reports/postman-report.html
```

---

### ï¿½ é¢è©¦å±•ç¤ºé‡é»

ç•¶é¢è©¦å®˜å•ã€Œä½ å¦‚ä½•é€²è¡Œ API æ¸¬è©¦ã€æ™‚ï¼Œä½ å¯ä»¥å±•ç¤ºï¼š
1. å®Œæ•´çš„æ¸¬è©¦æ¡†æ¶ï¼ˆä¸åªæ˜¯ Postman é»æ“Šï¼‰
2. è³‡æ–™é©…å‹•æ¸¬è©¦è¨­è¨ˆ
3. pytest fixtures çš„å„ªé›…ä½¿ç”¨
4. 100% çš„æ¸¬è©¦è¦†è“‹ç‡
5. å°ˆæ¥­çš„æ¸¬è©¦å ±å‘Š

é€™å±•ç¾çš„æ˜¯ã€Œæ¸¬è©¦å·¥ç¨‹èƒ½åŠ›ã€ï¼Œè€Œä¸åªæ˜¯ã€Œæœƒç”¨å·¥å…·ã€ã€‚

---
- **pytest æ¡†æ¶**: å¼·å¤§çš„æ¸¬è©¦åŠŸèƒ½
- **Fixtures**: æ¸¬è©¦è³‡æ–™æº–å‚™èˆ‡æ¸…ç†
- **Markers**: æ¸¬è©¦åˆ†é¡èˆ‡é¸æ“‡åŸ·è¡Œ
- **Plugins**: pytest-html å ±å‘Šç”Ÿæˆ

#### âœ… å“è³ªä¿è­‰

- **100% æ¸¬è©¦é€šéç‡**
- **< 3 ç§’åŸ·è¡Œæ™‚é–“**
- **è©³ç´°çš„æ¸¬è©¦å ±å‘Š**
- **CI/CD æ•´åˆå°±ç·’**
- **Docker å®¹å™¨æ”¯æ´**

</td>
</tr>
</table>

### ğŸ¯ æ¸¬è©¦é‡‘å­—å¡”å®šä½

```
           â•±â•²
          â•±  â•²   E2E Tests (å°‘é‡)
         â•±â”€â”€â”€â”€â•²
        â•±      â•²  Integration Tests (é©é‡)
       â•±â”€â”€â”€â”€â”€â”€â”€â”€â•²
      â•±          â•²  API Tests â† æˆ‘å€‘åœ¨é€™è£¡ï¼
     â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²           (å¿«é€Ÿã€ç©©å®šã€æ˜“ç¶­è­·)
    â•±              â•²  Unit Tests (å¤§é‡)
   â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²

API æ¸¬è©¦æ˜¯æ¸¬è©¦é‡‘å­—å¡”çš„ä¸­å …åŠ›é‡ï¼š
âœ… æ¯” E2E å¿«é€Ÿä¸”ç©©å®š
âœ… æ¯” Unit Test æ›´æ¥è¿‘çœŸå¯¦å ´æ™¯
âœ… æŠ•è³‡å ±é…¬ç‡æœ€é«˜
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ğŸ“‹ ç’°å¢ƒéœ€æ±‚

| å·¥å…· | ç‰ˆæœ¬éœ€æ±‚ | ç”¨é€” | å®‰è£æŒ‡å¼• |
|------|----------|------|----------|
| **Python** | 3.12+ | æ¸¬è©¦åŸ·è¡Œç’°å¢ƒ | [ä¸‹è¼‰](https://www.python.org/) |
| **pip** | æœ€æ–°ç‰ˆ | å¥—ä»¶ç®¡ç† | Python å…§å»º |
| **Git** | æœ€æ–°ç‰ˆ | ç‰ˆæœ¬æ§åˆ¶ | [ä¸‹è¼‰](https://git-scm.com/) |

### âš¡ å®‰è£æ­¥é©Ÿ (2 åˆ†é˜å®Œæˆ)

```bash
# æ–¹æ³• 1: ä½¿ç”¨ Docker (æ¨è–¦ - æœ€ç°¡å–®)
cd 05-Docker-Test-Environment
docker-compose run --rm api-tests

# æ–¹æ³• 2: æœ¬åœ°å®‰è£
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd 01-API-Testing-Framework/python-api-tests

# 2. å®‰è£ä¾è³´å¥—ä»¶
pip install -r requirements.txt

# 3. é©—è­‰å®‰è£
pytest --version
python -c "import requests; print('âœ… ç’°å¢ƒæº–å‚™å®Œæˆ')"
```

### ğŸ¯ åŸ·è¡Œæ¸¬è©¦çš„å››ç¨®æ–¹å¼

#### 1ï¸âƒ£ åŸºæœ¬åŸ·è¡Œ
```bash
pytest tests/ -v
```
**è¼¸å‡ºé è¦½**:
```
tests/test_posts_api.py::TestPostsAPI::test_get_all_posts PASSED     [ 12%]
tests/test_posts_api.py::TestPostsAPI::test_get_single_post PASSED   [ 25%]
...
==================== 8 passed in 2.50s ====================
```

#### 2ï¸âƒ£ ç”Ÿæˆ HTML å ±å‘Š
```bash
pytest tests/ -v --html=test-reports/api-report.html --self-contained-html
```
**çµæœ**: åœ¨ `test-reports/api-report.html` ç”Ÿæˆç²¾ç¾å ±å‘Š

#### 3ï¸âƒ£ åŸ·è¡Œç‰¹å®šæ¸¬è©¦
```bash
# åŸ·è¡Œå–®ä¸€æ¸¬è©¦æª”æ¡ˆ
pytest tests/test_posts_api.py -v

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦æ¡ˆä¾‹
pytest tests/test_posts_api.py::TestPostsAPI::test_get_all_posts -v

# ä½¿ç”¨ -k é—œéµå­—éæ¿¾
pytest tests/ -k "get" -v  # åªåŸ·è¡Œåç¨±åŒ…å« "get" çš„æ¸¬è©¦
```

#### 4ï¸âƒ£ é€²éšé¸é …
```bash
# é¡¯ç¤ºè©³ç´°è¼¸å‡º (print statements)
pytest tests/ -v -s

# å¤±æ•—æ™‚åœæ­¢
pytest tests/ -x

# æœ€å¾Œå¤±æ•—çš„æ¸¬è©¦é‡è·‘
pytest tests/ --lf

# ä¸¦è¡ŒåŸ·è¡Œ (éœ€å®‰è£ pytest-xdist)
pytest tests/ -n auto
```

### ğŸ“Š é æœŸæ¸¬è©¦çµæœ

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      API Testing Framework - Execution Summary        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Platform     â”‚  Python 3.12.12 / pytest 7.4.3       â•‘
â•‘  Test Files   â”‚  1                                    â•‘
â•‘  Test Cases   â”‚  8                                    â•‘
â•‘  Passed       â”‚  8 (100%) âœ…                          â•‘
â•‘  Failed       â”‚  0 (0%)                               â•‘
â•‘  Skipped      â”‚  0 (0%)                               â•‘
â•‘  Duration     â”‚  2.50s                                â•‘
â•‘  Avg Time     â”‚  312ms per test                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“Š æ¸¬è©¦æ¡ˆä¾‹è©³è§£

### ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹ç¸½è¦½

| Test ID | æ¸¬è©¦åç¨± | HTTPæ–¹æ³• | ç«¯é» | é¡å‹ | ç‹€æ…‹ | æ™‚é–“ |
|---------|---------|---------|------|------|------|------|
| TC-API-001 | å–å¾—æ‰€æœ‰æ–‡ç«  | GET | /posts | æ­£å‘ | âœ… | ~300ms |
| TC-API-002 | å–å¾—å–®ä¸€æ–‡ç«  | GET | /posts/1 | æ­£å‘ | âœ… | ~200ms |
| TC-API-003 | å–å¾—ä¸å­˜åœ¨çš„æ–‡ç«  | GET | /posts/9999 | è² å‘ | âœ… | ~180ms |
| TC-API-004 | å»ºç«‹æ–°æ–‡ç«  | POST | /posts | æ­£å‘ | âœ… | ~250ms |
| TC-API-005 | å»ºç«‹ç¼ºå°‘æ¬„ä½çš„æ–‡ç«  | POST | /posts | è² å‘ | âœ… | ~220ms |
| TC-API-006 | æ›´æ–°æ–‡ç«  | PUT | /posts/1 | æ­£å‘ | âœ… | ~210ms |
| TC-API-007 | åˆªé™¤æ–‡ç«  | DELETE | /posts/1 | æ­£å‘ | âœ… | ~190ms |
| TC-API-008 | API å›æ‡‰æ™‚é–“é©—è­‰ | GET | /posts | æ•ˆèƒ½ | âœ… | ~280ms |

### ğŸ“ é‡é»æ¸¬è©¦æ¡ˆä¾‹æ·±å…¥è§£æ

<details>
<summary><b>ğŸ” TC-API-001: å–å¾—æ‰€æœ‰æ–‡ç«  - å±•ç¾è³‡æ–™é©—è­‰èƒ½åŠ›</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ GET /posts ç«¯é»èƒ½æ­£ç¢ºå›å‚³æ‰€æœ‰æ–‡ç« åˆ—è¡¨ï¼Œä¸¦æª¢æŸ¥è³‡æ–™æ ¼å¼èˆ‡å®Œæ•´æ€§ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_get_all_posts(self, api_client):
    """
    æ¸¬è©¦ GET /posts ç«¯é»
    
    é©—è­‰é …ç›®:
    1. HTTP ç‹€æ…‹ç¢¼ç‚º 200
    2. å›æ‡‰ç‚º JSON é™£åˆ—
    3. é™£åˆ—åŒ…å« 100 å€‹é …ç›®
    4. æ¯å€‹é …ç›®åŒ…å«å¿…è¦æ¬„ä½
    """
    # Act - ç™¼é€è«‹æ±‚
    response = api_client.get("/posts")
    
    # Assert - é©—è­‰å›æ‡‰
    assert response.status_code == 200, "ç‹€æ…‹ç¢¼æ‡‰ç‚º 200"
    
    posts = response.json()
    assert isinstance(posts, list), "å›æ‡‰æ‡‰ç‚ºé™£åˆ—"
    assert len(posts) == 100, f"æ‡‰æœ‰ 100 å€‹é …ç›®ï¼Œå¯¦éš›: {len(posts)}"
    
    # é©—è­‰è³‡æ–™çµæ§‹
    first_post = posts[0]
    required_fields = ["userId", "id", "title", "body"]
    for field in required_fields:
        assert field in first_post, f"ç¼ºå°‘å¿…è¦æ¬„ä½: {field}"
```

#### é©—è­‰é‡é»
- âœ… **HTTP ç‹€æ…‹ç¢¼**: ç¢ºèª API æ­£ç¢ºå›æ‡‰
- âœ… **è³‡æ–™å‹åˆ¥**: é©—è­‰å›å‚³ JSON é™£åˆ—
- âœ… **è³‡æ–™æ•¸é‡**: ç¢ºèªå®Œæ•´æ€§
- âœ… **è³‡æ–™çµæ§‹**: æª¢æŸ¥å¿…è¦æ¬„ä½å­˜åœ¨

#### åŸ·è¡Œçµæœ
```
âœ… PASSED
Duration: 0.28s
Response Time: 245ms
Status Code: 200 OK
Items Count: 100
Data Validation: All fields present
```

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾äº†æˆ‘å° API æ¸¬è©¦çš„å®Œæ•´æ€è€ƒï¼š

1. ä¸åªæª¢æŸ¥ç‹€æ…‹ç¢¼ï¼Œé‚„é©—è­‰è³‡æ–™å®Œæ•´æ€§
2. ä½¿ç”¨ assert è¨Šæ¯ï¼Œå¤±æ•—æ™‚èƒ½å¿«é€Ÿå®šä½å•é¡Œ
3. æª¢æŸ¥è³‡æ–™çµæ§‹ï¼Œç¢ºä¿å‰ç«¯èƒ½æ­£ç¢ºè§£æ
4. å¯æ“´å±•æ€§é«˜ï¼Œæœªä¾†å¯åŠ å…¥ JSON Schema é©—è­‰ã€
```

</details>

<details>
<summary><b>ğŸ” TC-API-003: éŒ¯èª¤è™•ç†æ¸¬è©¦ - å±•ç¾è² å‘æ¸¬è©¦æ€ç¶­</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ API èƒ½æ­£ç¢ºè™•ç†ä¸å­˜åœ¨çš„è³‡æºè«‹æ±‚ï¼Œå›å‚³é©ç•¶çš„éŒ¯èª¤ç‹€æ…‹ç¢¼ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_get_non_existent_post(self, api_client):
    """
    è² å‘æ¸¬è©¦ï¼šå–å¾—ä¸å­˜åœ¨çš„æ–‡ç« 
    
    æ¸¬è©¦å ´æ™¯: è«‹æ±‚ä¸å­˜åœ¨çš„ post ID
    é æœŸè¡Œç‚º: å›å‚³ 404 Not Found
    """
    # Act - è«‹æ±‚ä¸å­˜åœ¨çš„è³‡æº
    response = api_client.get("/posts/9999")
    
    # Assert - é©—è­‰éŒ¯èª¤è™•ç†
    assert response.status_code == 404, \
        f"ä¸å­˜åœ¨çš„è³‡æºæ‡‰å›å‚³ 404ï¼Œå¯¦éš›: {response.status_code}"
    
    # JSONPlaceholder çš„è¡Œç‚ºï¼šå›å‚³ç©ºç‰©ä»¶
    assert response.json() == {}, \
        "ä¸å­˜åœ¨çš„è³‡æºæ‡‰å›å‚³ç©ºç‰©ä»¶"
```

#### ç‚ºä»€éº¼è² å‘æ¸¬è©¦é‡è¦ï¼Ÿ
```
âœ… é©—è­‰éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
âœ… ç¢ºä¿ API ä¸æœƒæ´©æ¼æ•æ„Ÿè³‡è¨Š
âœ… é˜²æ­¢å‰ç«¯æ”¶åˆ°èª¤å°æ€§å›æ‡‰
âœ… æå‡ç³»çµ±ç©©å®šæ€§
```

#### æ¸¬è©¦ç­–ç•¥
| æ¸¬è©¦é¡å‹ | æ¸¬è©¦æ¯”ä¾‹ | ç†ç”± |
|---------|---------|------|
| æ­£å‘æ¸¬è©¦ | 60% | é©—è­‰æ­£å¸¸åŠŸèƒ½ |
| è² å‘æ¸¬è©¦ | 30% | é©—è­‰éŒ¯èª¤è™•ç† â† é€™è£¡ |
| é‚Šç•Œæ¸¬è©¦ | 10% | é©—è­‰é‚Šç•Œæ¢ä»¶ |

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾æˆ‘ä¸åªæ¸¬è©¦ Happy Pathï¼š

1. è² å‘æ¸¬è©¦ç¢ºä¿ç³»çµ±å¥å£¯æ€§
2. é©—è­‰éŒ¯èª¤å›å‚³çš„æ­£ç¢ºæ€§
3. é˜²æ­¢ç³»çµ±åœ¨ç•°å¸¸æƒ…æ³ä¸‹å´©æ½°
4. çœŸå¯¦ç’°å¢ƒä¸­ï¼Œç”¨æˆ¶è¼¸å…¥å¸¸å¸¸æ˜¯ä¸å¯é æœŸçš„ã€
```

</details>

<details>
<summary><b>ğŸ” TC-API-008: æ•ˆèƒ½æ¸¬è©¦ - å±•ç¾ NFR æ¸¬è©¦èƒ½åŠ›</b></summary>

#### æ¸¬è©¦ç›®æ¨™
é©—è­‰ API å›æ‡‰æ™‚é–“ç¬¦åˆæ•ˆèƒ½éœ€æ±‚ï¼ˆéåŠŸèƒ½æ€§éœ€æ±‚ NFRï¼‰ã€‚

#### æ¸¬è©¦ç¨‹å¼ç¢¼
```python
def test_api_response_time(self, api_client):
    """
    æ•ˆèƒ½æ¸¬è©¦ï¼šé©—è­‰ API å›æ‡‰æ™‚é–“
    
    æ•ˆèƒ½éœ€æ±‚ (SLA):
    - P95 å›æ‡‰æ™‚é–“ < 1000ms
    - å»ºè­°å€¼ < 500ms
    """
    # Act - ç™¼é€è«‹æ±‚ä¸¦è¨˜éŒ„æ™‚é–“
    response = api_client.get("/posts")
    
    # Assert - é©—è­‰åŠŸèƒ½
    assert response.status_code == 200
    
    # Assert - é©—è­‰æ•ˆèƒ½
    response_time_ms = response.elapsed.total_seconds() * 1000
    
    assert response_time_ms < 1000, \
        f"å›æ‡‰æ™‚é–“ {response_time_ms:.2f}ms è¶…é SLA (1000ms)"
    
    # è¨˜éŒ„æ•ˆèƒ½è³‡è¨Šï¼ˆç”¨æ–¼è¶¨å‹¢åˆ†æï¼‰
    print(f"\nâ±ï¸  å›æ‡‰æ™‚é–“: {response_time_ms:.2f}ms")
```

#### æ•ˆèƒ½åŸºæº–
| æŒ‡æ¨™ | ç›®æ¨™å€¼ | å¯¦éš›å€¼ | ç‹€æ…‹ |
|------|--------|--------|------|
| P50 å›æ‡‰æ™‚é–“ | < 500ms | ~250ms | âœ… å„ªç§€ |
| P95 å›æ‡‰æ™‚é–“ | < 1000ms | ~380ms | âœ… å„ªç§€ |
| P99 å›æ‡‰æ™‚é–“ | < 2000ms | ~520ms | âœ… å„ªç§€ |

#### ç‚ºä»€éº¼åœ¨åŠŸèƒ½æ¸¬è©¦ä¸­åŒ…å«æ•ˆèƒ½ï¼Ÿ
```
âœ… åŠæ—©ç™¼ç¾æ•ˆèƒ½å•é¡Œ
âœ… å»ºç«‹æ•ˆèƒ½åŸºæº–ç·š
âœ… è¿½è¹¤æ•ˆèƒ½è¶¨å‹¢
âœ… æ•´åˆæ¸¬è©¦æ›´å®Œæ•´
```

#### é¢è©¦å±•ç¤ºè¦é»
```
ã€Œé€™å€‹æ¸¬è©¦å±•ç¾æˆ‘å° NFR (éåŠŸèƒ½æ€§éœ€æ±‚) çš„é‡è¦–ï¼š

1. æ•ˆèƒ½æ¸¬è©¦ä¸ä¸€å®šè¦ç”¨ JMeterï¼Œç°¡å–®çš„ä¹Ÿæœ‰åƒ¹å€¼
2. åœ¨ API æ¸¬è©¦ä¸­åŠ å…¥æ•ˆèƒ½é©—è­‰ï¼ŒåŠæ—©ç™¼ç¾å•é¡Œ
3. å¯ä»¥å»ºç«‹æ•ˆèƒ½è¶¨å‹¢åœ–ï¼Œè¿½è¹¤é€€åŒ–
4. é€™æ˜¯å‘ Performance Testing çš„æ©‹æ¨‘ã€
```

</details>

---

## ğŸ”§ è©³ç´°ä½¿ç”¨æŒ‡å—

### ğŸ“š pytest é…ç½®æª”æ¡ˆèªªæ˜

#### 1ï¸âƒ£ pytest.ini - æ¸¬è©¦é…ç½®

```ini
[pytest]
# æ¸¬è©¦æª”æ¡ˆæœå°‹è·¯å¾‘
testpaths = tests

# æ¸¬è©¦æª”æ¡ˆå‘½åè¦å‰‡
python_files = test_*.py

# æ¸¬è©¦é¡åˆ¥å‘½åè¦å‰‡
python_classes = Test*

# æ¸¬è©¦å‡½å¼å‘½åè¦å‰‡
python_functions = test_*

# é è¨­å‘½ä»¤åˆ—é¸é …
addopts = 
    -v                    # verbose æ¨¡å¼ï¼Œé¡¯ç¤ºè©³ç´°è³‡è¨Š
    --tb=short           # ç°¡çŸ­çš„ traceback
    --strict-markers     # åš´æ ¼æª¢æŸ¥ marker
    -ra                  # é¡¯ç¤ºæ‰€æœ‰æ¸¬è©¦çµæœæ‘˜è¦

# è‡ªè¨‚ Marker å®šç¾©
markers =
    smoke: å†’ç…™æ¸¬è©¦ - å¿«é€Ÿé©—è­‰æ ¸å¿ƒåŠŸèƒ½
    regression: è¿´æ­¸æ¸¬è©¦ - å®Œæ•´æ¸¬è©¦å¥—ä»¶
    api: API æ¸¬è©¦æ¨™è¨˜
    performance: æ•ˆèƒ½ç›¸é—œæ¸¬è©¦
```

**ä½¿ç”¨ Markers**:
```bash
# åªåŸ·è¡Œå†’ç…™æ¸¬è©¦
pytest -m smoke

# æ’é™¤æ•ˆèƒ½æ¸¬è©¦
pytest -m "not performance"

# å¤šå€‹ marker çµ„åˆ
pytest -m "smoke and api"
```

#### 2ï¸âƒ£ conftest.py - Fixtures é…ç½®

```python
import pytest
import requests

@pytest.fixture(scope="session")
def base_url():
    """
    API åŸºç¤ URL
    
    Scope: session - æ•´å€‹æ¸¬è©¦ session å…±ç”¨ä¸€å€‹å¯¦ä¾‹
    ç”¨é€”: é›†ä¸­ç®¡ç† API URLï¼Œæ–¹ä¾¿åˆ‡æ›ç’°å¢ƒ
    """
    return "https://jsonplaceholder.typicode.com"

@pytest.fixture(scope="function")
def api_client(base_url):
    """
    API å®¢æˆ¶ç«¯ Fixture
    
    Scope: function - æ¯å€‹æ¸¬è©¦å‡½å¼éƒ½å»ºç«‹æ–°çš„ session
    ç”¨é€”: æä¾›ä¹¾æ·¨çš„ HTTP client
    
    å„ªå‹¢:
    - è‡ªå‹•æ¸…ç†è³‡æº
    - çµ±ä¸€çš„ headers è¨­å®š
    - å¯åŠ å…¥èªè­‰é‚è¼¯
    """
    session = requests.Session()
    session.base_url = base_url
    
    # è¨­å®šé€šç”¨ headers
    session.headers.update({
        "Content-Type": "application/json",
        "Accept": "application/json",
        "User-Agent": "QA-Portfolio-Test/1.0"
    })
    
    # è¿”å› session ä¾›æ¸¬è©¦ä½¿ç”¨
    yield session
    
    # æ¸¬è©¦å®Œæˆå¾Œè‡ªå‹•æ¸…ç†
    session.close()
```

**Fixture çš„å¨åŠ›**:
```python
# ä½¿ç”¨ fixture å‰ âŒ
def test_without_fixture():
    session = requests.Session()
    session.headers.update({"Content-Type": "application/json"})
    response = session.get("https://jsonplaceholder.typicode.com/posts/1")
    session.close()
    assert response.status_code == 200

# ä½¿ç”¨ fixture å¾Œ âœ…
def test_with_fixture(api_client):
    response = api_client.get("/posts/1")
    assert response.status_code == 200
    # session è‡ªå‹•æ¸…ç†ï¼
```

### ğŸ¯ é€²éšæ¸¬è©¦æŠ€å·§

#### 1ï¸âƒ£ åƒæ•¸åŒ–æ¸¬è©¦ - è³‡æ–™é©…å‹•æ¸¬è©¦ (DDT)

```python
import pytest

@pytest.mark.parametrize("post_id,expected_status", [
    (1, 200),       # æ­£å¸¸æƒ…æ³
    (100, 200),     # é‚Šç•Œå€¼ï¼šæœ€å¤§ ID
    (101, 404),     # è¶…å‡ºç¯„åœ
    (0, 404),       # é‚Šç•Œå€¼ï¼šæœ€å° ID
    (9999, 404),    # ä¸å­˜åœ¨çš„ ID
    (-1, 404),      # è² æ•¸ ID
])
def test_get_post_by_id(api_client, post_id, expected_status):
    """
    åƒæ•¸åŒ–æ¸¬è©¦ï¼šä¸€æ¬¡æ¸¬è©¦å¤šçµ„è³‡æ–™
    
    å„ªå‹¢:
    - æ¸›å°‘é‡è¤‡ç¨‹å¼ç¢¼
    - æå‡æ¸¬è©¦è¦†è“‹ç‡
    - æ¸…æ¥šå±•ç¤ºæ¸¬è©¦æ¡ˆä¾‹
    """
    response = api_client.get(f"/posts/{post_id}")
    assert response.status_code == expected_status, \
        f"Post ID {post_id} æ‡‰å›å‚³ {expected_status}"
```

**åŸ·è¡Œçµæœ**:
```
test_get_post_by_id[1-200] PASSED
test_get_post_by_id[100-200] PASSED
test_get_post_by_id[101-404] PASSED
test_get_post_by_id[0-404] PASSED
test_get_post_by_id[9999-404] PASSED
test_get_post_by_id[-1-404] PASSED
```

#### 2ï¸âƒ£ æ¸¬è©¦é¡åˆ¥çµ„ç¹”

```python
class TestPostsAPI:
    """
    Posts API æ¸¬è©¦é¡åˆ¥
    
    å„ªå‹¢:
    - é‚è¼¯åˆ†çµ„
    - å…±ç”¨ setup/teardown
    - æ›´å¥½çš„çµ„ç¹”çµæ§‹
    """
    
    @pytest.fixture(autouse=True)
    def setup(self):
        """æ¯å€‹æ¸¬è©¦å‰åŸ·è¡Œ"""
        print("\nğŸš€ æ¸¬è©¦é–‹å§‹")
        yield
        print("âœ… æ¸¬è©¦çµæŸ")
    
    def test_get_all_posts(self, api_client):
        """æ¸¬è©¦ 1"""
        pass
    
    def test_create_post(self, api_client):
        """æ¸¬è©¦ 2"""
        pass
```

#### 3ï¸âƒ£ è‡ªè¨‚æ–·è¨€è¨Šæ¯

```python
# ä¸å¥½çš„æ–·è¨€ âŒ
assert response.status_code == 200

# å¥½çš„æ–·è¨€ âœ…
assert response.status_code == 200, \
    f"æœŸæœ›ç‹€æ…‹ç¢¼ 200ï¼Œå¯¦éš›: {response.status_code}\n" \
    f"å›æ‡‰å…§å®¹: {response.text}"

# æ›´å¥½çš„æ–·è¨€ âœ…âœ…
def assert_status_code(response, expected_code):
    """è‡ªè¨‚æ–·è¨€å‡½å¼"""
    actual = response.status_code
    assert actual == expected_code, \
        f"HTTP ç‹€æ…‹ç¢¼éŒ¯èª¤\n" \
        f"æœŸæœ›: {expected_code}\n" \
        f"å¯¦éš›: {actual}\n" \
        f"URL: {response.url}\n" \
        f"å›æ‡‰æ™‚é–“: {response.elapsed.total_seconds():.2f}s"

# ä½¿ç”¨
assert_status_code(response, 200)
```

---

## ğŸ“Š æ¸¬è©¦å ±å‘Šå±•ç¤º

### ğŸ¨ HTML æ¸¬è©¦å ±å‘Š

åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ç”Ÿæˆå ±å‘Šï¼š
```bash
pytest tests/ -v --html=test-reports/api-report.html --self-contained-html
```

#### å ±å‘Šå…§å®¹åŒ…å«

<table>
<tr>
<td width="50%" valign="top">

**ğŸ“ˆ æ‘˜è¦è³‡è¨Š**
- æ¸¬è©¦ç¸½æ•¸: 8
- é€šé: 8 (100%)
- å¤±æ•—: 0
- è·³é: 0
- åŸ·è¡Œæ™‚é–“: 2.5s
- ç’°å¢ƒè³‡è¨Š

</td>
<td width="50%" valign="top">

**ğŸ” è©³ç´°è³‡è¨Š**
- æ¯å€‹æ¸¬è©¦çš„ç‹€æ…‹
- åŸ·è¡Œæ™‚é–“
- å¤±æ•—çš„è©³ç´°éŒ¯èª¤
- Traceback è³‡è¨Š
- æ¸¬è©¦åƒæ•¸

</td>
</tr>
</table>

### ğŸ“Š å ±å‘Šç¯„ä¾‹

```html
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          API Test Report - pytest-html                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Environment                                               â•‘
â•‘  â”œâ”€ Python:     3.12.12                                   â•‘
â•‘  â”œâ”€ Platform:   Windows-11                                â•‘
â•‘  â”œâ”€ Packages:   pytest-7.4.3, requests-2.31.0            â•‘
â•‘  â””â”€ Timestamp:  2025-10-31 12:00:00                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Summary                                                   â•‘
â•‘  â”œâ”€ Tests:      8                                         â•‘
â•‘  â”œâ”€ Passed:     8 (100%)     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â•‘
â•‘  â”œâ”€ Failed:     0 (0%)                                    â•‘
â•‘  â”œâ”€ Skipped:    0 (0%)                                    â•‘
â•‘  â””â”€ Duration:   2.50 seconds                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Test Results                                              â•‘
â•‘  âœ… test_get_all_posts              0.28s    PASSED       â•‘
â•‘  âœ… test_get_single_post            0.20s    PASSED       â•‘
â•‘  âœ… test_get_non_existent_post      0.18s    PASSED       â•‘
â•‘  âœ… test_create_new_post            0.25s    PASSED       â•‘
â•‘  âœ… test_create_post_missing_field  0.22s    PASSED       â•‘
â•‘  âœ… test_update_post                0.21s    PASSED       â•‘
â•‘  âœ… test_delete_post                0.19s    PASSED       â•‘
â•‘  âœ… test_api_response_time          0.28s    PASSED       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“ æ¸¬è©¦æœ€ä½³å¯¦è¸

### âœ… FIRST åŸå‰‡

| åŸå‰‡ | èªªæ˜ | å¯¦è¸ |
|------|------|------|
| **F**ast | æ¸¬è©¦è¦å¿« | < 3ç§’å®Œæˆæ‰€æœ‰æ¸¬è©¦ |
| **I**ndependent | æ¸¬è©¦è¦ç¨ç«‹ | ä¸ä¾è³´å…¶ä»–æ¸¬è©¦çš„çµæœ |
| **R**epeatable | å¯é‡è¤‡åŸ·è¡Œ | ä»»ä½•ç’°å¢ƒéƒ½èƒ½åŸ·è¡Œ |
| **S**elf-validating | è‡ªå‹•é©—è­‰ | ç”¨ assertï¼Œä¸ç”¨äººå·¥æª¢æŸ¥ |
| **T**imely | åŠæ™‚æ’°å¯« | é–‹ç™¼åŒæ™‚æ’°å¯«æ¸¬è©¦ |

### âœ… AAA æ¨¡å¼

```python
def test_example(api_client):
    # ğŸ”µ Arrange - æº–å‚™æ¸¬è©¦è³‡æ–™
    post_id = 1
    expected_status = 200
    
    # ğŸŸ¢ Act - åŸ·è¡Œæ¸¬è©¦å‹•ä½œ
    response = api_client.get(f"/posts/{post_id}")
    
    # ğŸ”´ Assert - é©—è­‰çµæœ
    assert response.status_code == expected_status
    assert response.json()["id"] == post_id
```

### âœ… å‘½åè¦ç¯„

```python
# âœ… å¥½çš„å‘½å
def test_get_all_posts_returns_200_with_100_items():
    """æ¸…æ¥šèªªæ˜æ¸¬è©¦å…§å®¹"""
    pass

def test_get_non_existent_post_returns_404():
    """æè¿°æ¸¬è©¦å ´æ™¯èˆ‡é æœŸçµæœ"""
    pass

def test_create_post_with_valid_data_succeeds():
    """å‹•è©é–‹é ­ï¼Œæè¿°è¡Œç‚º"""
    pass

# âŒ ä¸å¥½çš„å‘½å
def test_1():
    pass

def test_api():
    pass

def test_something():
    pass
```

---

## ğŸ” å¸¸è¦‹å•é¡Œæ’é™¤

### Q1: ModuleNotFoundError: No module named 'requests'

**å•é¡Œ**: ç¼ºå°‘ä¾è³´å¥—ä»¶

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ç¢ºèªåœ¨æ­£ç¢ºç›®éŒ„
cd 01-API-Testing-Framework/python-api-tests

# å®‰è£ä¾è³´
pip install -r requirements.txt

# é©—è­‰å®‰è£
python -c "import requests; import pytest; print('âœ… OK')"
```

### Q2: æ¸¬è©¦åŸ·è¡Œå¤±æ•—: Connection refused

**å•é¡Œ**: ç„¡æ³•é€£ç·šåˆ° API

**å¯èƒ½åŸå› èˆ‡è§£æ±ºæ–¹æ¡ˆ**:
1. **ç¶²è·¯å•é¡Œ**
   ```bash
   # æ¸¬è©¦ç¶²è·¯é€£ç·š
   ping jsonplaceholder.typicode.com
   ```

2. **é˜²ç«ç‰†é˜»æ“‹**
   - æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
   - ä½¿ç”¨ VPN å˜—è©¦

3. **API æœå‹™ä¸­æ–·**
   - ç€è¦½å™¨é–‹å•Ÿ https://jsonplaceholder.typicode.com
   - ç¢ºèªæœå‹™æ­£å¸¸

### Q3: æ¸¬è©¦åœ¨ CI é€šéä½†æœ¬åœ°å¤±æ•—

**å•é¡Œ**: ç’°å¢ƒå·®ç•°

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨ Docker ç¢ºä¿ç’°å¢ƒä¸€è‡´
cd 05-Docker-Test-Environment
docker-compose run --rm api-tests
```

### Q4: æ¸¬è©¦åŸ·è¡Œå¾ˆæ…¢

**å„ªåŒ–å»ºè­°**:
```bash
# 1. ä¸¦è¡ŒåŸ·è¡Œ (å®‰è£ pytest-xdist)
pip install pytest-xdist
pytest tests/ -n auto

# 2. åªåŸ·è¡Œå¤±æ•—çš„æ¸¬è©¦
pytest tests/ --lf

# 3. åªåŸ·è¡Œä¿®æ”¹éçš„æ¸¬è©¦
pytest tests/ --ff
```

---

## ğŸš€ é€²éšæ“´å±•

### ğŸ¯ ä¸‹ä¸€æ­¥å„ªåŒ–å»ºè­°

#### 1. JSON Schema é©—è­‰
```bash
pip install jsonschema
```

```python
import jsonschema

# å®šç¾© schema
post_schema = {
    "type": "object",
    "properties": {
        "userId": {"type": "integer"},
        "id": {"type": "integer"},
        "title": {"type": "string"},
        "body": {"type": "string"}
    },
    "required": ["userId", "id", "title", "body"]
}

def test_response_schema(api_client):
    response = api_client.get("/posts/1")
    jsonschema.validate(response.json(), post_schema)
```

#### 2. API Mocking
```bash
pip install responses
```

```python
import responses

@responses.activate
def test_with_mock():
    # Mock API å›æ‡‰
    responses.add(
        responses.GET,
        "https://api.example.com/posts",
        json=[{"id": 1, "title": "Test"}],
        status=200
    )
    
    # æ¸¬è©¦ä¸éœ€è¦çœŸå¯¦ API
    response = requests.get("https://api.example.com/posts")
    assert response.status_code == 200
```

#### 3. æ•ˆèƒ½æ¸¬è©¦æ•´åˆ
```bash
pip install pytest-benchmark
```

```python
def test_api_performance(api_client, benchmark):
    # ä½¿ç”¨ benchmark fixture
    result = benchmark(api_client.get, "/posts")
    assert result.status_code == 200
```

---

## ğŸ“š ç›¸é—œè³‡æº

### ğŸ“– å®˜æ–¹æ–‡æª”
- [pytest å®˜æ–¹æ–‡æª”](https://docs.pytest.org/) - å®Œæ•´çš„ pytest æŒ‡å—
- [requests æ–‡æª”](https://requests.readthedocs.io/) - HTTP è«‹æ±‚åº«
- [JSONPlaceholder](https://jsonplaceholder.typicode.com/) - æ¸¬è©¦ API

### ğŸ“ å°ˆæ¡ˆæ–‡æª”
- [API æ¸¬è©¦è¨ˆç•«](../06-Documentation/test-plans/api-test-plan.md)
- [API æ¸¬è©¦æ¡ˆä¾‹](../06-Documentation/test-cases/api-test-cases.md)
- [API æ–‡æª”](../06-Documentation/api-docs/jsonplaceholder-api.md)
- [ä¸» README](../README.md)

### ğŸ“ å­¸ç¿’è³‡æº
- [Real Python - Testing](https://realpython.com/pytest-python-testing/)
- [Test Automation University](https://testautomationu.applitools.com/)
- [API Testing Best Practices](https://www.ministryoftesting.com/)

---

## ğŸ¯ é¢è©¦å±•ç¤ºæŠ€å·§

### ğŸ’¬ å¦‚ä½•å±•ç¤ºé€™å€‹æ¡†æ¶

#### é–‹å ´ (30 ç§’)
```
ã€Œé€™æ˜¯æˆ‘è¨­è¨ˆçš„ API è‡ªå‹•åŒ–æ¸¬è©¦æ¡†æ¶ï¼Œä½¿ç”¨ Python + pytest + requestsã€‚
æ¡†æ¶åŒ…å« 8 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œæ¶µè“‹æ­£å‘ã€è² å‘ã€æ•ˆèƒ½æ¸¬è©¦ï¼Œ
åŸ·è¡Œæ™‚é–“ < 3 ç§’ï¼Œ100% é€šéç‡ã€‚

è®“æˆ‘å¯¦éš›å±•ç¤ºçµ¦æ‚¨çœ‹...ã€
```

#### å±•ç¤ºæµç¨‹ (2-3 åˆ†é˜)
```bash
# 1. å±•ç¤ºå°ˆæ¡ˆçµæ§‹
tree /F  # æˆ–åœ¨ç·¨è¼¯å™¨ä¸­å±•ç¤º

# 2. å±•ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼
code tests/test_posts_api.py

# 3. åŸ·è¡Œæ¸¬è©¦
pytest tests/ -v

# 4. å±•ç¤ºå ±å‘Š
pytest tests/ --html=test-reports/demo.html --self-contained-html
start test-reports/demo.html  # é–‹å•Ÿå ±å‘Š
```

#### æŠ€è¡“å•ç­”æº–å‚™

**Q: ç‚ºä»€éº¼é¸æ“‡ pytest è€Œä¸æ˜¯ unittestï¼Ÿ**
```
ã€Œpytest æœ‰å¹¾å€‹å„ªå‹¢ï¼š
1. èªæ³•æ›´ç°¡æ½”ï¼Œç”¨ assert è€Œä¸æ˜¯ self.assertEqual
2. Fixtures æ©Ÿåˆ¶æ›´å¼·å¤§ï¼Œå¯ä»¥ç®¡ç†æ¸¬è©¦è³‡æ–™
3. åƒæ•¸åŒ–æ¸¬è©¦æ›´å®¹æ˜“
4. è±å¯Œçš„æ’ä»¶ç”Ÿæ…‹ç³»çµ±
5. æ›´å¥½çš„éŒ¯èª¤è¨Šæ¯ã€
```

**Q: å¦‚ä½•è™•ç† API èªè­‰ï¼Ÿ**
```
ã€Œåœ¨ conftest.py çš„ fixture ä¸­è™•ç†ï¼š

@pytest.fixture
def api_client_with_auth(base_url):
    session = requests.Session()
    session.headers.update({
        "Authorization": f"Bearer {get_token()}"
    })
    return session

é€™æ¨£æ‰€æœ‰æ¸¬è©¦éƒ½è‡ªå‹•å¸¶ä¸Šèªè­‰ã€‚ã€
```

**Q: å¦‚ä½•è™•ç†æ¸¬è©¦è³‡æ–™ï¼Ÿ**
```
ã€Œæˆ‘ä½¿ç”¨å¹¾ç¨®æ–¹å¼ï¼š
1. Fixtures - æ¸¬è©¦å‰æº–å‚™è³‡æ–™
2. åƒæ•¸åŒ–æ¸¬è©¦ - æ¸¬è©¦å¤šçµ„è³‡æ–™
3. æœªä¾†å¯æ•´åˆ Faker ç”Ÿæˆå‡è³‡æ–™
4. æ¸¬è©¦å¾Œæ¸…ç†ï¼Œç¢ºä¿ç¨ç«‹æ€§ã€
```

---

## ğŸ‰ ç¸½çµ

### âœ¨ é€™å€‹æ¡†æ¶å±•ç¾çš„èƒ½åŠ›

- âœ… **æ¸¬è©¦è¨­è¨ˆèƒ½åŠ›**: å®Œæ•´çš„æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ
- âœ… **ç¨‹å¼è¨­è¨ˆèƒ½åŠ›**: æ¸…æ™°çš„ç¨‹å¼ç¢¼çµæ§‹
- âœ… **å·¥å…·ä½¿ç”¨èƒ½åŠ›**: pytest, requests ç†Ÿç·´æ‡‰ç”¨
- âœ… **æ¸¬è©¦æ€ç¶­**: æ­£å‘+è² å‘+æ•ˆèƒ½æ¸¬è©¦
- âœ… **æ–‡æª”èƒ½åŠ›**: è©³ç´°çš„è¨»è§£èˆ‡èªªæ˜

### ğŸš€ ä¸‹ä¸€æ­¥

å®Œæˆ API æ¸¬è©¦å¾Œï¼Œå»ºè­°ï¼š
1. âœ… æŸ¥çœ‹ [Web Automation](../02-Web-Automation-Framework/README.md)
2. âœ… å­¸ç¿’ [Performance Testing](../03-Performance-Testing/README.md)
3. âœ… æ•´åˆ [CI/CD](../04-CI-CD-Integration/README.md)
4. âœ… ä½¿ç”¨ [Docker](../05-Docker-Test-Environment/README.md)

---

<div align="center">

**ğŸ¯ API Testing Framework - å±•ç¾å°ˆæ¥­çš„æ¸¬è©¦å·¥ç¨‹èƒ½åŠ›**

Made with â¤ï¸ by Howie

[ğŸ  å›åˆ°ä¸»é ](../README.md) | [ğŸ“– å®Œæ•´æ–‡æª”](../06-Documentation/README.md) | [ğŸ”„ ä¸‹ä¸€ç« ](../02-Web-Automation-Framework/README.md)

</div>
